{"name": "HumanEval_27_flip_case", "language": "cpp", "prompt": "#include<assert.h>\n#include<bits/stdc++.h>\n// For a given string, flip lowercase characters to uppercase and uppercase to lowercase.\n// >>> flip_case((\"Hello\"))\n// (\"hELLO\")\nstd::string flip_case(std::string string) {\n", "doctests": "transform", "original": "/work/arjunguha-research-group/arjun/repos/nuprl/MultiPL-E/datasets/../datasets/originals-with-cleaned-doctests/HumanEval_27_flip_case.py", "prompt_terminology": "reworded", "tests": "}\nint main() {\n    auto candidate = flip_case;\n    assert(candidate((\"\")) == (\"\"));\n    assert(candidate((\"Hello!\")) == (\"hELLO!\"));\n    assert(candidate((\"These violent delights have violent ends\")) == (\"tHESE VIOLENT DELIGHTS HAVE VIOLENT ENDS\"));\n}\n", "stop_tokens": ["\n}"], "completions": ["Here\u2019s a self\u2011contained implementation of `flip_case` that swaps the case of every alphabetic character in the input string:\n\n```cpp\n#include <string>\n#include <algorithm>\n#include <cctype>\n\n// Flip the case of each alphabetic character in the string.\nstd::string flip_case(const std::string& input)\n{\n    std::string result = input;                 // make a copy to modify\n    std::transform(result.begin(), result.end(),\n                   result.begin(),\n                   [](unsigned char c) {\n                       return std::isupper(c) ? std::tolower(c)\n                                            : std::toupper(c);\n                   });\n    return result;\n}\n```\n\n### How it works\n1. **Copy the input** \u2013 we create `result` so we can modify it without altering the original string.\n2. **`std::transform`** \u2013 iterates over each character.\n3. **Lambda** \u2013 for each character `c`:\n   * If it\u2019s uppercase (`std::isupper`), convert to lowercase (`std::tolower`).\n   * Otherwise (including lowercase and non\u2011alphabetic characters) convert to uppercase (`std::toupper`).\n\nThis handles all alphabetic characters correctly and leaves non\u2011alphabetic characters unchanged.\n\n#### Example\n\n```cpp\n#include <iostream>\n\nint main() {\n    std::cout << flip_case(\"Hello, World!\") << \"\\n\";\n    // Output: hELLO, wORLD!\n}\n```\n\nFeel free to drop this function into your codebase; it compiles with any modern C++ compiler.", "Here is a minimal, safe\u2011and\u2011portable implementation of the requested `flip_case` function.  \nIt works with plain C++17/20, uses only the standard library and does not rely on any non\u2011standard extensions.\n\n```cpp\n#include <string>\n#include <algorithm>\n#include <cctype>   // for std::isalpha, std::tolower, std::toupper\n\n/**\n * Flip the case of all alphabetic characters in a string.\n *\n * Examples:\n *  flip_case(\"Hello\")  \u279c \"hELLO\"\n *  flip_case(\"hELLO\")  \u279c \"Hello\"\n *  flip_case(\"123\")    \u279c \"123\"   // Non\u2011letters are left untouched\n *\n * @param input the string whose case should be flipped\n * @return a new string with the case of all alphabetic characters toggled\n */\nstd::string flip_case(std::string input)\n{\n    // Transform each character in place\n    std::transform(input.begin(), input.end(), input.begin(),\n                   [](unsigned char ch) {\n                       if (std::islower(ch))\n                           return static_cast<char>(std::toupper(ch));\n                       else if (std::isupper(ch))\n                           return static_cast<char>(std::tolower(ch));\n                       else\n                           return static_cast<char>(ch);   // leave non\u2011letters unchanged\n                   });\n\n    return input;\n}\n```\n\n### Why this version?\n\n| Feature | Why it matters |\n|---------|----------------|\n| **`<string>`** | Keeps the code minimal without pulling in everything from `<bits/stdc++.h>` |\n| **`std::transform`** | Provides a clear, idiomatic way to process each character |\n| **`std::islower`, `std::isupper`** | Correctly identifies alphabetic characters in the current locale |\n| **`unsigned char` cast** | Avoids undefined behavior due to negative `char` values on some platforms |\n| **Return by value** | The function is purely functional \u2013 it never mutates the argument |\n\nFeel free to integrate this into your project or adapt it to any specific coding standards you might have.", "Here\u2019s a compact, self\u2011contained implementation that flips every alphabetic character\u2019s case:\n\n```cpp\n#include <string>\n#include <cctype>   // for std::tolower, std::toupper\n\n/// @brief  Flip the case of each letter in `s`.\n/// @details\n///   * Lowercase letters are converted to uppercase.\n///   * Uppercase letters are converted to lowercase.\n///   * Non\u2011alphabetic characters are left unchanged.\n/// @param  s The string to transform.\n/// @return  A new string with every character\u2019s case flipped.\nstd::string flip_case(const std::string& s)\n{\n    std::string result;\n    result.reserve(s.size());          // avoid repeated reallocations\n\n    for (char ch : s) {\n        if (std::islower(static_cast<unsigned char>(ch)))\n            result.push_back(static_cast<char>(std::toupper(static_cast<unsigned char>(ch))));\n        else if (std::isupper(static_cast<unsigned char>(ch)))\n            result.push_back(static_cast<char>(std::tolower(static_cast<unsigned char>(ch))));\n        else\n            result.push_back(ch);    // leave other characters untouched\n    }\n\n    return result;\n}\n```\n\n### Why this version?\n\n| Feature | Explanation |\n|---------|-------------|\n| **`const std::string&` parameter** | No copy of the input string is made. |\n| **`reserve`** | Pre\u2011allocates the required space, improving performance for large inputs. |\n| **`std::islower` / `std::isupper`** | Check the case of a character in a locale\u2011safe way. |\n| **`unsigned char` cast** | Prevents undefined behaviour when `char` is signed and holds values >127. |\n| **`static_cast<char>`** | Turns the result of `toupper/lower` back into a `char`. |\n\nYou can now use it like this:\n\n```cpp\n#include <iostream>\n\nint main() {\n    std::string text = \"Hello, World! 123\";\n    std::cout << flip_case(text) << '\\n';   // prints: hELLO, wORLD! 123\n}\n```\n\nFeel free to tweak or expand the implementation as needed for your project."]}