{"name": "mbpp_459_remove_uppercase", "language": "cpp", "prompt": "#include<assert.h>\n#include<bits/stdc++.h>\n// Write a function to remove uppercase substrings from a given string.\nstd::string remove_uppercase(std::string str1) {\n", "doctests": "transform", "original": "/Users/arjun/repos/nuprl/MultiPL-E/datasets/../datasets/mbpp-typed/mbpp_459_remove_uppercase.py", "prompt_terminology": "reworded", "tests": "}\nint main() {\n    auto candidate = remove_uppercase;\n    assert(candidate((\"cAstyoUrFavoRitETVshoWs\")) == (\"cstyoravoitshos\"));\n    assert(candidate((\"wAtchTheinTernEtrAdIo\")) == (\"wtchheinerntrdo\"));\n    assert(candidate((\"VoicESeaRchAndreComMendaTionS\")) == (\"oiceachndreomendaion\"));\n}\n", "stop_tokens": ["\n}"], "completions": ["Below is a complete, self\u2011contained implementation that removes **every contiguous sequence of uppercase letters** (i.e. substrings that consist solely of A\u2011Z) from the input string.  \nThe logic is simple: scan the string, copy characters that are not part of an uppercase run, and skip everything that falls inside a run.\n\n```cpp\n#include <string>\n#include <cctype>   // for std::isupper\n\n// -------------------------------------------------------------------------\n// Removes all contiguous uppercase substrings from the given string.\n//\n// Example:\n//   \"HelloWORLDTest\"  ->  \"HelloTest\"\n//   \"ABCD123EFG\"      ->  \"123\"\n//   \"noUpperCase\"     ->  \"noUpperCase\"   (unchanged)\n// -------------------------------------------------------------------------\nstd::string remove_uppercase(const std::string& s)\n{\n    std::string result;\n    result.reserve(s.size());          // avoid many reallocations\n\n    size_t i = 0;\n    while (i < s.size())\n    {\n        if (std::isupper(static_cast<unsigned char>(s[i])))\n        {\n            // Skip the entire uppercase run\n            while (i < s.size() && std::isupper(static_cast<unsigned char>(s[i])))\n                ++i;\n        }\n        else\n        {\n            // Current character is not uppercase \u2013 copy it\n            result.push_back(s[i]);\n            ++i;\n        }\n    }\n    return result;\n}\n```\n\n### How it works\n1. **Scan from left to right.**  \n   `i` is the current index.\n2. **If `s[i]` is uppercase** (`isupper`), enter a nested loop that advances `i` until the run ends (i.e., until a non\u2011uppercase character or the string\u2019s end is reached).\n3. **If `s[i]` is not uppercase,** copy it to `result` and move to the next character.\n4. **Return the accumulated `result`.**\n\nThe function does not modify the input string (`s` is taken by `const &`). It works for arbitrary content, including digits, punctuation, or mixed\u2011case sections. The `reserve` call improves performance for long strings.", "Below is a **complete, self\u2011contained C++17 program** that implements the requested functionality \u2013  \n`remove_uppercase()` \u2013 and demonstrates it with a few test cases.  \nThe code is short, well\u2011commented and ready to compile on any modern compiler.\n\n```cpp\n/*********************************************************************\n *  Program:   Remove Upper\u2011Case Substrings\n *\n *  Problem\n *  -------\n *  Given a string that may contain both lowercase and uppercase\n *  characters, delete *every* contiguous block of uppercase\n *  letters.  The remaining characters (including the lower\u2011case\n *  ones and any non\u2011alphabetic symbols) stay in their original\n *  order.\n *\n *  Examples\n *  --------\n *      Input   :  \"aABcDEfGH2\"\n *      Output  :  \"acf2\"\n *\n *      Input   :  \"HELLOworld\"\n *      Output  :  \"world\"\n *\n *  Implementation Details\n *  ----------------------\n *  \u2022 Scan the string once, keeping a flag that tells whether\n *    we are currently inside an uppercase run.\n *  \u2022 Whenever the flag is false we copy the current character\n *    to the result.\n *  \u2022 Complexity:   O(n) time, O(1) extra space\n *    (apart from the output string itself).\n *  \u2022 The function itself does not modify its argument but\n *    returns a new string, because the caller may need the\n *    original value later.\n *\n *  Compile with:\n *      g++ -std=c++17 -O2 -pipe -static -s -o remove_uppercase main.cpp\n *********************************************************************/\n\n#include <bits/stdc++.h>\nusing namespace std;\n\n// ------------------------------------------------------------------\n// Remove all contiguous blocks of uppercase letters from str1\nstring remove_uppercase(const string &str1)\n{\n    string res;                 // result string\n    bool inUpper = false;       // are we inside an uppercase run?\n\n    for (char c : str1)\n    {\n        if (isupper(static_cast<unsigned char>(c)))  // uppercase letter\n        {\n            inUpper = true;                  // start / stay inside run\n        }\n        else\n        {\n            if (inUpper)\n                inUpper = false;             // run finished\n            res.push_back(c);                // keep this char\n        }\n    }\n    return res;\n}\n\n// ------------------------------------------------------------------\n// Simple test harness\nvoid run_tests()\n{\n    struct Test\n    {\n        string input;\n        string expected;\n    };\n\n    vector<Test> test_cases = {\n        {\"aABcDEfGH2\",   \"acf2\"},\n        {\"HELLOworld\",   \"world\"},\n        {\"abcDEFghi\",    \"abcghi\"},\n        {\"\",             \"\"},\n        {\"123ABC456\",    \"123456\"},\n        {\"A\",            \"\"},\n        {\"a\",            \"a\"},\n        {\"UpperCaseUPPERCASE\", \"\"},\n        {\"Mixed123\",     \"Mixed123\"},\n        {\"SOMEtext\",     \"text\"}\n    };\n\n    for (const auto &tc : test_cases)\n    {\n        string out = remove_uppercase(tc.input);\n        if (out == tc.expected)\n            cerr << \"\u2713 \";\n        else\n            cerr << \"\u2717 \";\n\n        cerr << \"\\\"\" << tc.input << \"\\\" => \\\"\" << out\n             << \"\\\" (expected \\\"\" << tc.expected << \"\\\")\\n\";\n    }\n}\n\n// ------------------------------------------------------------------\nint main()\n{\n    // Example usage\n    string s;\n    cout << \"Enter a string: \";\n    getline(cin, s);\n\n    cout << \"After removing uppercase substrings:\\n\";\n    cout << remove_uppercase(s) << '\\n';\n\n    // You can uncomment the following line to run the test suite\n    // run_tests();\n\n    return 0;\n}\n```\n\n### How it Works\n\n1. **`isupper` Check**  \n   We use `isupper` (after casting to `unsigned char` to avoid undefined behaviour with signed chars) to detect uppercase ASCII letters (`'A'`\u2011`'Z'`).  \n   If you need to support Unicode upper\u2011case letters, replace the check with an appropriate library call.\n\n2. **State Machine**  \n   `inUpper` tells us whether the current position is inside a run of uppercase letters.  \n   - When we see an uppercase letter, the flag stays set.  \n   - When we see any other character, we first turn the flag off (if it was on) and then copy that character to the result.\n\n3. **Linear Scan**  \n   The algorithm visits each character exactly once, giving `O(n)` time and `O(1)` auxiliary space.\n\n### Running the Program\n\n```bash\n# Compile (GNU C++17)\ng++ -std=c++17 -O2 -pipe -static -s -o remove_uppercase main.cpp\n\n# Run\n./remove_uppercase\n```\n\nThe program will prompt you for a string, print the transformed string, and you can also run the embedded test suite by uncommenting the call to `run_tests()`.", "Below is a complete, **ready\u2011to\u2011compile** implementation of the requested function.  \nThe function walks through the input string, builds a result by copying only the\nlower\u2011case characters (or any other characters that are *not* uppercase letters).  \nAll other characters\u2014including digits, punctuation, and whitespace\u2014are kept.\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n\n/**\n * @brief Removes all contiguous uppercase substrings from a string.\n *\n * For example, with input \"HelloWORLD123abcDEF\", the function returns\n * \"Hello123abc\".  Each sequence of one or more uppercase letters is\n * omitted in the output.\n *\n * @param str1 The input string.\n * @return string The modified string with uppercase substrings removed.\n */\nstring remove_uppercase(string str1)\n{\n    string result;\n    result.reserve(str1.size());          // Reserve space for efficiency\n\n    bool in_upper = false;                // Are we inside an uppercase run?\n\n    for (char c : str1) {\n        if (isupper(static_cast<unsigned char>(c))) {\n            in_upper = true;             // Start or continue an uppercase run\n        } else {\n            if (in_upper) {\n                in_upper = false;        // End of an uppercase run\n            }\n            result.push_back(c);         // Keep the non\u2011uppercase char\n        }\n    }\n    return result;\n}\n\n/* ---------- small demo/ test harness ---------- */\n\n#ifdef UNIT_TEST\nint main()\n{\n    vector<pair<string,string>> tests{\n        {\"HelloWORLD123abcDEF\",\"Hello123abc\"},\n        {\"NoUpperCase\",\"NoUpperCase\"},\n        {\"ALLUPPER\",\"\"},\n        {\"MixedUPPPperLetters\",\"MixedppperLetters\"},\n        {\"123!@#\",\"123!@#\"},\n    };\n\n    for (auto &t : tests) {\n        string got = remove_uppercase(t.first);\n        assert(got == t.second);\n        cout << '\"' << t.first << \"\\\" -> \\\"\" << got << \"\\\"\\n\";\n    }\n    cout << \"All tests passed.\\n\";\n    return 0;\n}\n#endif\n```\n\n### How it works\n\n1. **Scan each character** of the input string.\n2. **Track whether we are inside an uppercase run** (`in_upper` flag).\n3. **Skip** any character that is uppercase.\n4. **Append** any character that is *not* uppercase to the result.\n5. Return the built string.\n\nThe implementation is `O(n)` in time and `O(n)` in space (the size of the output),\nand it uses only the standard library. Feel free to drop the `#ifdef UNIT_TEST`\nblock into a separate test file or remove it when you integrate this helper\ninto your larger project."]}