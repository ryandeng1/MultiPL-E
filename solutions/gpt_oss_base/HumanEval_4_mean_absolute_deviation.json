{"name": "HumanEval_4_mean_absolute_deviation", "language": "cpp", "prompt": "#include<assert.h>\n#include<bits/stdc++.h>\n// For a given vector of input numbers, calculate Mean Absolute Deviation\n// around the mean of this dataset.\n// Mean Absolute Deviation is the average absolute difference between each\n// element and a centerpoint (mean in this case):\n// MAD = average | x - x_mean |\n// >>> mean_absolute_deviation((std::vector<float>({(float)1.0f, (float)2.0f, (float)3.0f, (float)4.0f})))\n// (1.0f)\nfloat mean_absolute_deviation(std::vector<float> numbers) {\n", "doctests": "transform", "original": "/work/arjunguha-research-group/arjun/repos/nuprl/MultiPL-E/datasets/../datasets/originals-with-cleaned-doctests/HumanEval_4_mean_absolute_deviation.py", "prompt_terminology": "reworded", "tests": "}\nint main() {\n    auto candidate = mean_absolute_deviation;\n    assert(candidate((std::vector<float>({(float)1.0f, (float)2.0f}))) == (0.5f));\n    assert(candidate((std::vector<float>({(float)1.0f, (float)2.0f, (float)3.0f, (float)4.0f}))) == (1.0f));\n    assert(candidate((std::vector<float>({(float)1.0f, (float)2.0f, (float)3.0f, (float)4.0f, (float)5.0f}))) == (1.2f));\n}\n", "stop_tokens": ["\n}"], "completions": ["Here\u2019s a clean, self\u2011contained implementation of the **Mean Absolute Deviation (MAD)** for a vector of `float`s.  \nIt follows the definition\n\n\\[\n\\text{MAD} = \\frac{1}{n}\\sum_{i=1}^{n} |x_i-\\bar{x}|\n\\]\n\nwhere \\(\\bar{x}\\) is the arithmetic mean of the data.\n\n```cpp\n#include <vector>\n#include <numeric>   // std::accumulate\n#include <cmath>     // std::abs\n#include <cstddef>   // std::size_t\n#include <stdexcept> // std::invalid_argument\n\n/**\n * @brief Compute the mean absolute deviation of a dataset.\n * \n * @param numbers Vector of floating\u2011point numbers.\n * @return float Mean absolute deviation.\n * @throws std::invalid_argument if the input vector is empty.\n */\nfloat mean_absolute_deviation(const std::vector<float>& numbers)\n{\n    if (numbers.empty()) {\n        throw std::invalid_argument(\"mean_absolute_deviation: empty input\");\n    }\n\n    // 1. calculate the mean\n    const float mean = static_cast<float>( std::accumulate(numbers.begin(),\n                                                           numbers.end(),\n                                                           0.0f) )\n                        / static_cast<float>(numbers.size());\n\n    // 2. sum of absolute deviations\n    float sum_abs_dev = 0.0f;\n    for (const float& v : numbers) {\n        sum_abs_dev += std::fabs(v - mean);\n    }\n\n    // 3. divide by the count\n    return sum_abs_dev / static_cast<float>(numbers.size());\n}\n```\n\n### Why this implementation?\n\n| Feature | Reason |\n|---------|--------|\n| `const std::vector<float>&` | Pass-by\u2011reference to avoid copying large datasets. |\n| `std::accumulate` | Generic, clear, and fast. |\n| `std::fabs` | Avoids type\u2011casting issues on `long double`\u2011like compilers. |\n| Error handling | Throws an exception if the input is empty \u2013 ensures caller sees misuse. |\n\n### Usage Example\n\n```cpp\nint main()\n{\n    std::vector<float> data{1.0f, 2.0f, 3.0f, 4.0f};\n    float mad = mean_absolute_deviation(data);\n    std::cout << \"MAD: \" << mad << '\\n';   // prints: MAD: 1\n}\n```\n\nFeel free to drop this function into your project or adjust the error handling to suit your style.", "Here is a straightforward implementation of the mean\u2011absolute\u2011deviation (MAD) that follows the description you provided.  \nIt:\n\n1. Computes the arithmetic mean of the vector.  \n2. Sums the absolute differences between each value and the mean.  \n3. Divides by the number of elements to obtain the average absolute deviation.  \n4. Uses `assert` to guard against an empty container (you could also throw an exception if you prefer).  \n\n```cpp\n#include <vector>\n#include <cmath>\n#include <cassert>\n\n/*  Compute the mean absolute deviation (MAD) around the mean\n    of a dataset.\n\n    Parameters\n    ----------\n    numbers : std::vector<float>\n        Dataset of floating\u2011point numbers.\n\n    Returns\n    -------\n    float\n        The MAD, i.e.  average of |x_i - mean| over all elements.\n*/\nfloat mean_absolute_deviation(std::vector<float> numbers)\n{\n    // A MAD of an empty vector is not defined \u2013 use assert or throw.\n    assert(!numbers.empty());\n\n    // Compute mean\n    double sum = 0.0;\n    for (const auto& v : numbers) sum += static_cast<double>(v);\n    double mean = sum / static_cast<double>(numbers.size());\n\n    // Compute average absolute deviation\n    double mad = 0.0;\n    for (const auto& v : numbers) mad += std::fabs(static_cast<double>(v) - mean);\n    mad /= static_cast<double>(numbers.size());\n\n    return static_cast<float>(mad);\n}\n```\n\n**Example usage**\n\n```cpp\nint main()\n{\n    std::vector<float> data{1.0f, 2.0f, 3.0f, 4.0f};\n    std::cout << mean_absolute_deviation(data) << '\\n';   // prints 1.0\n}\n```\n\nThe implementation uses only standard library facilities and works for any `std::vector<float>` that contains at least one element.", "Sure! Below is a complete implementation of `mean_absolute_deviation`.  \nIt calculates the arithmetic mean of the vector, then computes the average of the absolute deviations from that mean. An assertion guarantees that the vector isn't empty (you can remove or replace it with a runtime check if you prefer).\n\n```cpp\n#include <vector>\n#include <numeric>   // std::accumulate\n#include <cmath>     // std::abs\n#include <cassert>   // assert\n\n// Calculates the mean absolute deviation of a vector of floats.\n// Returns the average absolute difference between each element\n// and the arithmetic mean of the vector.\nfloat mean_absolute_deviation(const std::vector<float>& numbers) {\n    // A non\u2011empty dataset is required for a MAD.\n    assert(!numbers.empty());\n\n    // 1. Compute the arithmetic mean.\n    float mean = std::accumulate(numbers.begin(), numbers.end(), 0.0f)\n                 / static_cast<float>(numbers.size());\n\n    // 2. Sum absolute deviations from the mean.\n    float total_abs_diff = 0.0f;\n    for (float x : numbers) {\n        total_abs_diff += std::abs(x - mean);\n    }\n\n    // 3. Average of the absolute deviations.\n    return total_abs_diff / static_cast<float>(numbers.size());\n}\n```\n\n**Example usage**\n\n```cpp\nint main() {\n    std::vector<float> data = {1.0f, 2.0f, 3.0f, 4.0f};\n    float mad = mean_absolute_deviation(data);  // -> 1.0f\n    std::cout << \"MAD = \" << mad << '\\n';\n}\n```\n\nThe function works for any size vector of `float` (or you could template it for other numeric types if needed)."]}