{"name": "HumanEval_66_digitSum", "language": "cpp", "prompt": "#include<assert.h>\n#include<bits/stdc++.h>\n// Task\n// Write a function that takes a string as input and returns the sum of the upper characters only'\n// ASCII codes.\n// Examples:\n// >>> digitSum((\"\"))\n// (0)\n// >>> digitSum((\"abAB\"))\n// (131)\n// >>> digitSum((\"abcCd\"))\n// (67)\n// >>> digitSum((\"helloE\"))\n// (69)\n// >>> digitSum((\"woArBld\"))\n// (131)\n// >>> digitSum((\"aAaaaXa\"))\n// (153)\nlong digitSum(std::string s) {\n", "doctests": "transform", "original": "/work/arjunguha-research-group/arjun/repos/nuprl/MultiPL-E/datasets/../datasets/originals-with-cleaned-doctests/HumanEval_66_digitSum.py", "prompt_terminology": "reworded", "tests": "}\nint main() {\n    auto candidate = digitSum;\n    assert(candidate((\"\")) == (0));\n    assert(candidate((\"abAB\")) == (131));\n    assert(candidate((\"abcCd\")) == (67));\n    assert(candidate((\"helloE\")) == (69));\n    assert(candidate((\"woArBld\")) == (131));\n    assert(candidate((\"aAaaaXa\")) == (153));\n    assert(candidate((\" How are yOu?\")) == (151));\n    assert(candidate((\"You arE Very Smart\")) == (327));\n}\n", "stop_tokens": ["\n}"], "completions": ["Here is a simple and efficient implementation of `digitSum`.  \nIt iterates over the string, checks whether each character is an uppercase letter (using `std::isupper`), and if so adds its ASCII value to the running total.  \nThe function returns a `long`, which is large enough for any reasonable string length.\n\n```cpp\n#include <string>\n#include <cctype>   // for std::isupper\n\nlong digitSum(const std::string& s) {\n    long sum = 0;\n    for (char c : s) {\n        if (std::isupper(static_cast<unsigned char>(c))) {\n            sum += static_cast<int>(c);   // ASCII code of the uppercase letter\n        }\n    }\n    return sum;\n}\n```\n\n### Explanation\n\n1. **`std::isupper`**  \n   Determines whether a character is an uppercase letter.  \n   It is locale\u2011dependent; here the default C locale is used because the input is ASCII.\n\n2. **`static_cast<unsigned char>(c)`**  \n   Guarantees that the character is promoted correctly to an `int` for `std::isupper`.  \n   This avoids potential undefined behaviour on systems where `char` may be signed.\n\n3. **`sum += static_cast<int>(c)`**  \n   Adds the ASCII value of the character.  \n   `char` is implicitly convertible to `int`, but the cast makes the intent explicit.\n\n### Test Cases\n\n```cpp\n#include <cassert>\n#include <iostream>\n\nint main() {\n    assert(digitSum(\"\") == 0);\n    assert(digitSum(\"abAB\") == 131);  // A(65) + B(66) = 131\n    assert(digitSum(\"abcCd\") == 67);   // C(67)\n    assert(digitSum(\"helloE\") == 69);  // E(69)\n    assert(digitSum(\"woArBld\") == 131); // A(65)+B(66)\n    assert(digitSum(\"aAaaaXa\") == 153); // A(65)+X(88)\n\n    std::cout << \"All tests passed.\\n\";\n    return 0;\n}\n```\n\nThe program prints `All tests passed.` if the implementation is correct.", "Sure!  \nThe function just iterates over every character in the string, checks whether it\u2019s an uppercase letter (using `std::isupper` from `<cctype>`), and if it is, it adds its ASCII value to a running total. Finally, the total is returned.  \nHere\u2019s the completed code:\n\n```cpp\n#include <cctype>   // for std::isupper\n#include <string>\n\nlong digitSum(const std::string& s)\n{\n    long sum = 0;                // use long to avoid overflow\n    for (char ch : s) {\n        if (std::isupper(static_cast<unsigned char>(ch))) {\n            sum += static_cast<unsigned long>(ch);\n        }\n    }\n    return sum;\n}\n```\n\n### Explanation\n1. **Parameter** \u2013 `const std::string& s` so we don\u2019t copy the string unnecessarily.\n2. **Loop** \u2013 `for (char ch : s)` visits every character.\n3. **Check** \u2013 `std::isupper(...)` returns true only for \u2018A\u2019\u2013\u2018Z\u2019.\n4. **Add** \u2013 The ASCII value of the uppercase letter is added to `sum`.\n5. **Return** \u2013 The accumulated value is returned.\n\nTesting with the examples given:\n\n```cpp\n#include <iostream>\n\nint main() {\n    std::cout << digitSum(\"\") << '\\n';          // 0\n    std::cout << digitSum(\"abAB\") << '\\n';      // 131\n    std::cout << digitSum(\"abcCd\") << '\\n';     // 67\n    std::cout << digitSum(\"helloE\") << '\\n';    // 69\n    std::cout << digitSum(\"woArBld\") << '\\n';   // 131\n    std::cout << digitSum(\"aAaaaXa\") << '\\n';   // 153\n}\n```\n\nAll outputs match the expected results.", "**Solution Explanation**\n\nThe task is simple:  \nGiven a string, add the ASCII codes of all *uppercase* letters (`'A'`\u2011`'Z'`) and return the sum.\n\n**Edge Cases**\n\n* Empty string \u2192 sum is `0`.\n* No uppercase letters \u2192 sum is `0`.\n\n**Algorithm**\n\n```\nfunction digitSum(s):\n    sum = 0\n    for each char ch in s:\n        if 'A' \u2264 ch \u2264 'Z':\n            sum += int(ch)          // ASCII value of ch\n    return sum\n```\n\nThe ASCII value of a char in C++ can be obtained by converting the `char` to an `int`.\n\n**Complexity**\n\n*Time*: \u202fO(n), where *n* is the length of the string (we scan it once).  \n*Space*: \u202fO(1) \u2013 only a few variables.\n\n**C++ Implementation**\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n\n// Task\n// Write a function that takes a string as input and returns the sum\n// of the ASCII codes of the upper\u2011case characters only.\nlong digitSum(const string& s) {\n    long sum = 0;\n    for (char c : s) {\n        if (c >= 'A' && c <= 'Z')\n            sum += static_cast<long>(c);   // ASCII value\n    }\n    return sum;\n}\n\n/* Simple test harness */\nint main() {\n    assert(digitSum(\"\") == 0);\n    assert(digitSum(\"abAB\") == 131);\n    assert(digitSum(\"abcCd\") == 67);\n    assert(digitSum(\"helloE\") == 69);\n    assert(digitSum(\"woArBld\") == 131);\n    assert(digitSum(\"aAaaaXa\") == 153);\n    cout << \"All tests passed!\\n\";\n    return 0;\n}\n```\n\nThe function follows the specification, handles all corner cases, and runs in linear time."]}