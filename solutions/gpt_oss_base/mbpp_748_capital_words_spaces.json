{"name": "mbpp_748_capital_words_spaces", "language": "cpp", "prompt": "#include<assert.h>\n#include<bits/stdc++.h>\n// Write a function to put spaces between words starting with capital letters in a given string.\nstd::string capital_words_spaces(std::string str1) {\n", "doctests": "transform", "original": "/Users/arjun/repos/nuprl/MultiPL-E/datasets/../datasets/mbpp-typed/mbpp_748_capital_words_spaces.py", "prompt_terminology": "reworded", "tests": "}\nint main() {\n    auto candidate = capital_words_spaces;\n    assert(candidate((\"Python\")) == (\"Python\"));\n    assert(candidate((\"PythonProgrammingExamples\")) == (\"Python Programming Examples\"));\n    assert(candidate((\"GetReadyToBeCodingFreak\")) == (\"Get Ready To Be Coding Freak\"));\n}\n", "stop_tokens": ["\n}"], "completions": ["```cpp\n#include <string>\n#include <cctype>        // for isupper, islower\n\n/**\n * @brief  Insert a single blank space before every \u201cword\u201d that starts with a \n *         capital letter.\n * \n * A word is defined as a contiguous sequence that begins with an\n * uppercase character followed by zero or more lowercase characters.\n * For every such sequence that begins *after* the first character of the\n * string, a space is inserted in front of its first letter.\n *\n * Examples\n * --------\n *  \"HelloWorldTest\"      -> \"Hello World Test\"\n *  \"simpleTest\"          -> \"simple Test\"\n *  \"XMLParserError\"      -> \"XML Parser Error\"\n *\n * @param  str1  Input string that may contain a mix of capital and lowercase\n *               letters.  It is passed by value, so the original string\n *               remains unchanged.\n * @retval std::string  The transformed string with spaces inserted.\n */\nstd::string capital_words_spaces(std::string str1)\n{\n    if (str1.empty())\n        return str1;\n\n    std::string result;\n    result.reserve(str1.size() * 2);    // reserve extra space for the worst\u2011case\n\n    // We iterate over the string character by character.\n    for (std::size_t i = 0; i < str1.size(); ++i)\n    {\n        char c = str1[i];\n\n        // If the current character is an upper\u2011case letter **and** it is\n        // not the first character of the string, and the character that\n        // immediately precedes it is a lower\u2011case letter, we must insert a\n        // space before this word.\n        if (std::isupper(static_cast<unsigned char>(c)) &&\n            i > 0 &&\n            std::islower(static_cast<unsigned char>(str1[i - 1])))\n        {\n            result.push_back(' ');\n        }\n\n        result.push_back(c);\n    }\n\n    return result;\n}\n```\n\n**Explanation**\n\n1. **Empty string guard** \u2013 If the input is empty we return it unchanged.\n\n2. **Result string** \u2013 We reserve a bit more space than the original string to avoid repeated re\u2011allocations.\n\n3. **Loop over all positions** \u2013 For each character:\n   * Only when the current character is an uppercase letter **and**\n     followed by a transition from a lower\u2011case letter to an upper\u2011case\n     letter (i.e., it is *not* the very first character) do we add a space\n     before appending the character itself.\n\n4. **Return** the assembled string.  \n\nThis gives the requested behavior for typical camel\u2011case or Pascal\u2011case\nsentences. If you need to treat sequences of consecutive capital letters\n(e.g., \u201cXMLParser\u201d) differently, you can extend the condition accordingly.", "```cpp\n#include <string>\n#include <cctype>     // std::isupper / std::islower\n#include <cassert>\n\n/*  The function inserts a space before every capital letter that starts\n    a new word in the input string.  \n    The very first character of the string is left untouched,\n    even if it is a capital letter.  All other capital letters that\n    are **not** the first character are preceded by a space.\n\n    Examples\n    ----------\n    \"ThisIsATest\"   \u2192  \"This Is A Test\"\n    \"A1B2C\"         \u2192  \"A1 B2 C\"\n    \"helloWorld\"    \u2192  \"hello World\"\n    \"CapitalCaps\"   \u2192  \"Capital Caps\"        */\n\nstd::string capital_words_spaces(const std::string& str1)\n{\n    assert(!str1.empty());          // caller should pass a real string\n\n    std::string res;\n    res.reserve(str1.size() * 2);    // a cheap over\u2011estimate\n\n    for (size_t i = 0; i < str1.size(); ++i)\n    {\n        char c = str1[i];\n        if (i > 0 && std::isupper(static_cast<unsigned char>(c)))\n        {\n            // preceding character is not a space already, so add one\n            // (this also handles digits, punctuation, etc.)\n            res.push_back(' ');\n        }\n        res.push_back(c);\n    }\n    return res;\n}\n```\n\n### How it works\n1. **Iterate over the string** character by character.  \n2. If the current character is an upper\u2011case letter **and it is not the first\n   character**, a space is inserted before appending the letter itself.  \n3. All other characters are appended unchanged.  \n4. The function returns the rebuilt string with the added spaces.\n\nFeel free to plug this helper into your program; it keeps the logic tight and testable.", "Below is a clean, self\u2011contained implementation of the requested function.  \nIt scans the input string once, inserting a single space *before* any capital letter that ends a prior word.\n\n```cpp\n#include <string>\n\n// Put a space between words that start with a capital letter.\n// Example:  \"HelloWorldTest\" \u2192 \"Hello World Test\"\n//           \"oneTwoThree\"   \u2192 \"one Two Three\"\n//           \"A\"             \u2192 \"A\"          (no leading space)\nstd::string capital_words_spaces(const std::string& str0)\n{\n    if (str0.empty()) return {};\n\n    std::string result;\n    result.reserve(str0.size() * 2);          // optimistic reserve\n\n    for (size_t i = 0; i < str0.size(); ++i)\n    {\n        char c = str0[i];\n\n        // Insert a space *before* the capital letter **if**\n        // 1. it is not the first character, AND\n        // 2. the previous character is not a space, AND\n        // 3. it is a capital letter (A\u2013Z).\n        if (i > 0 && std::isupper(static_cast<unsigned char>(c))\n            && !std::isspace(static_cast<unsigned char>(str0[i-1])))\n        {\n            result.push_back(' ');\n        }\n\n        result.push_back(c);\n    }\n    return result;\n}\n```\n\n### How it works\n\n| Step | Purpose |\n|------|---------|\n| **Reserve space** | Prevents dynamic reallocation during the loop, improving speed for large strings. |\n| **Loop through each character** | We process each character once, keeping the algorithm linear, `O(n)`. |\n| **Condition to add a space** | A space is inserted before a capital letter only when it is *not at the start* of the string *and* the preceding character is not already a space. This avoids a leading space and keeps existing spaces untouched. |\n| **Return** | The resulting string, now with the inserted spaces, is returned. |\n\n### Usage example\n\n```cpp\n#include <iostream>\n\nint main()\n{\n    std::string raw   = \"HelloWorldTest\";\n    std::string clean = capital_words_spaces(raw);\n    std::cout << clean << '\\n';  // prints: Hello World Test\n\n    std::string already = \"One Two Three\";\n    std::cout << capital_words_spaces(already) << '\\n'; // One Two Three\n\n    std::string single = \"A\";\n    std::cout << capital_words_spaces(single) << '\\n';  // A\n\n    return 0;\n}\n```\n\nThe implementation is robust, handles edge cases such as empty strings or already spaced strings, and obeys the C++17 standard (using only `<string>` and `<cctype>`)."]}