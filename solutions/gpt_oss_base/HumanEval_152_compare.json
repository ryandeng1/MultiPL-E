{"name": "HumanEval_152_compare", "language": "cpp", "prompt": "#include<assert.h>\n#include<bits/stdc++.h>\n// I think we all remember that feeling when the result of some long-awaited\n// event is finally known. The feelings and thoughts you have at that moment are\n// definitely worth noting down and comparing.\n// Your task is to determine if a person correctly guessed the results of a number of matches.\n// You are given two vectors of scores and guesses of equal length, where each index shows a match. \n// Return a vector of the same length denoting how far off each guess was. If they have guessed correctly,\n// the value is 0, and if not, the value is the absolute difference between the guess and the score.\n// example:\n// >>> compare((std::vector<long>({(long)1, (long)2, (long)3, (long)4, (long)5, (long)1})), (std::vector<long>({(long)1, (long)2, (long)3, (long)4, (long)2, (long)-2})))\n// (std::vector<long>({(long)0, (long)0, (long)0, (long)0, (long)3, (long)3}))\n// >>> compare((std::vector<long>({(long)0, (long)5, (long)0, (long)0, (long)0, (long)4})), (std::vector<long>({(long)4, (long)1, (long)1, (long)0, (long)0, (long)-2})))\n// (std::vector<long>({(long)4, (long)4, (long)1, (long)0, (long)0, (long)6}))\nstd::vector<long> compare(std::vector<long> game, std::vector<long> guess) {\n", "doctests": "transform", "original": "/work/arjunguha-research-group/arjun/repos/nuprl/MultiPL-E/datasets/../datasets/originals-with-cleaned-doctests/HumanEval_152_compare.py", "prompt_terminology": "reworded", "tests": "}\nint main() {\n    auto candidate = compare;\n    assert(candidate((std::vector<long>({(long)1, (long)2, (long)3, (long)4, (long)5, (long)1})), (std::vector<long>({(long)1, (long)2, (long)3, (long)4, (long)2, (long)-2}))) == (std::vector<long>({(long)0, (long)0, (long)0, (long)0, (long)3, (long)3})));\n    assert(candidate((std::vector<long>({(long)0, (long)0, (long)0, (long)0, (long)0, (long)0})), (std::vector<long>({(long)0, (long)0, (long)0, (long)0, (long)0, (long)0}))) == (std::vector<long>({(long)0, (long)0, (long)0, (long)0, (long)0, (long)0})));\n    assert(candidate((std::vector<long>({(long)1, (long)2, (long)3})), (std::vector<long>({(long)-1, (long)-2, (long)-3}))) == (std::vector<long>({(long)2, (long)4, (long)6})));\n    assert(candidate((std::vector<long>({(long)1, (long)2, (long)3, (long)5})), (std::vector<long>({(long)-1, (long)2, (long)3, (long)4}))) == (std::vector<long>({(long)2, (long)0, (long)0, (long)1})));\n}\n", "stop_tokens": ["\n}"], "completions": ["Here is a minimal, self\u2011contained implementation of the `compare` function in C++ that follows exactly the behavior described in the prompt:\n\n```cpp\n#include <vector>\n#include <cstdlib>   // for std::abs\n\n// ------------------------------------------------------------\n// Compare the actual scores with the guesses.\n// ------------------------------------------------------------\nstd::vector<long> compare(const std::vector<long>& game,\n                          const std::vector<long>& guess)\n{\n    // Preconditions (used only for debugging; they won't affect release builds)\n    assert(game.size() == guess.size());\n\n    std::vector<long> result;\n    result.reserve(game.size());          // avoid reallocations\n\n    for (size_t i = 0; i < game.size(); ++i)\n    {\n        const long diff = std::abs(game[i] - guess[i]); // absolute difference\n        result.push_back(diff);\n    }\n\n    return result;\n}\n```\n\n### What the code does\n\n1. **Safety check**  \n   The `assert` ensures that both input vectors have the same length as required by the problem statement. In a release build, assertions are disabled, so this has no runtime cost.\n\n2. **Efficient storage**  \n   `reserve(game.size())` pre\u2011allocates enough space for the result vector, avoiding repeated reallocations while filling it.\n\n3. **Element\u2011wise comparison**  \n   For each index `i`, the absolute difference between `game[i]` and `guess[i]` is calculated using `std::abs`.  \n   - If the guess is exact, the difference is `0`.  \n   - Otherwise, it is the magnitude of the error.\n\n4. **Return the result**  \n   The vector of differences is returned and has the same length as the input vectors.\n\n### Example usage\n\n```cpp\n#include <iostream>\n\nint main() {\n    std::vector<long> game   = {1, 2, 3, 4, 5, 1};\n    std::vector<long> guess  = {1, 2, 3, 4, 2, -2};\n\n    auto result = compare(game, guess);\n    for (auto v : result) std::cout << v << \" \";\n    // Output: 0 0 0 0 3 3\n}\n```\n\nThis implementation complies with the specification and is ready for inclusion in any C++ project.", "**Solution Explanation**\n\nFor every match we have\n\n* the real score `game[i]`\n* the guessed score `guess[i]`\n\nThe task is to produce a vector `answer` of the same length where\n\n```\nanswer[i] = 0                     if guess[i] == game[i]\nanswer[i] = |guess[i] - game[i]| otherwise\n```\n\nThat is simply the absolute difference between the two numbers, with `0`\nwhen they are equal.\n\nThe two input vectors always have the same length, so we can process\nthem element\u2011by\u2011element.\n\n---\n\n#### Algorithm\n```\ncompare(game, guess):\n    n \u2190 length of game          // both vectors have equal length\n    result \u2190 vector of size n\n    for i from 0 to n-1:\n        if guess[i] == game[i]:\n            result[i] \u2190 0\n        else:\n            result[i] \u2190 abs(guess[i] - game[i])\n    return result\n```\n\n`abs` is the standard absolute value function for `long`.\n\n---\n\n#### Correctness Proof  \n\nWe prove that the algorithm returns the required vector.\n\n*Let i be an arbitrary index (0 \u2264 i < n).*\n\n- If `guess[i] == game[i]`  \n  The algorithm sets `result[i] = 0`.  \n  According to the specification, a correct guess must be represented\n  by `0`. So `result[i]` is correct.\n\n- If `guess[i] != game[i]`  \n  The algorithm sets `result[i] = |guess[i] - game[i]|`.  \n  By definition of the problem statement, when the guess is wrong we\n  must output the absolute difference. Thus `result[i]` satisfies the\n  requirement.\n\nSince the algorithm processes every index exactly once, every element\n`result[i]` is correct. Therefore the whole returned vector is correct. \u220e\n\n---\n\n#### Complexity Analysis  \n\nThe algorithm scans the two vectors once.  \nLet `n` be the length of the vectors.\n\n* Time complexity: `O(n)`\n* Memory usage:   `O(n)` for the result vector (input vectors are\n  read\u2011only).\n\n---\n\n#### Reference Implementation  (C++17)\n\n```cpp\n#include <vector>\n#include <cmath>   // for std::abs\n\n/**\n * @brief Compare actual game scores with guesses.\n *\n * @param game  vector of real scores\n * @param guess vector of guessed scores\n * @return vector where the ith element is 0 if the guess was correct\n *         otherwise the absolute difference between guess and score.\n */\nstd::vector<long> compare(const std::vector<long>& game,\n                          const std::vector<long>& guess)\n{\n    // The problem guarantees both vectors have the same length.\n    size_t n = game.size();\n    std::vector<long> result;\n    result.reserve(n);\n\n    for (size_t i = 0; i < n; ++i) {\n        if (guess[i] == game[i]) {\n            result.push_back(0);\n        } else {\n            result.push_back(std::llabs(guess[i] - game[i]));\n        }\n    }\n    return result;\n}\n```\n\nThe code follows the algorithm exactly and is compliant with the\nC++17 standard.", "Here is a minimal, self\u2011contained implementation that does exactly what the description asks for.  \n\n```cpp\n#include <vector>\n#include <cstdlib>   // std::abs for long\n\nstd::vector<long> compare(const std::vector<long>& game,\n                          const std::vector<long>& guess)\n{\n    // The two vectors are guaranteed to have the same size, but we still\n    // guard against an empty input to avoid UB.\n    size_t n = game.size();\n    std::vector<long> result;\n    result.reserve(n);\n\n    for (size_t i = 0; i < n; ++i)\n    {\n        long diff = game[i] - guess[i];\n        if (diff < 0) diff = -diff;          // absolute value for `long`\n        result.push_back(diff);\n    }\n    return result;\n}\n```\n\n**Explanation**\n\n1. We pass the input vectors by **const reference** \u2013 no copies are made.\n2. The result vector is reserved to avoid reallocations.\n3. The loop computes the absolute difference `|game[i] - guess[i]|` manually so that we don\u2019t depend on any overloads that could be ambiguous for `long`.  \n4. Finally, the populated result vector is returned.\n\nYou can compile this with a standard C++ compiler; it requires no external headers other than the STL ones shown."]}