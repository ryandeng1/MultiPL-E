{"name": "mbpp_395_first_non_repeating_character", "language": "cpp", "prompt": "#include<assert.h>\n#include<bits/stdc++.h>\n// Write a cppthon function to find the first non-repeated character in a given string.\nstd::optional<std::string> first_non_repeating_character(std::string str1) {\n", "doctests": "transform", "original": "/Users/arjun/repos/nuprl/MultiPL-E/datasets/../datasets/mbpp-typed/mbpp_395_first_non_repeating_character.py", "prompt_terminology": "reworded", "tests": "}\nint main() {\n    auto candidate = first_non_repeating_character;\n    assert(candidate((\"abcabc\")) == std::nullopt);\n    assert(candidate((\"abc\")) == \"a\");\n    assert(candidate((\"ababc\")) == \"c\");\n}\n", "stop_tokens": ["\n}"], "completions": ["Below is a **stand\u2011alone** C++ implementation (C++17/20) that returns the first non\u2011repeated character in a string.  \nIt uses `std::optional<std::string>` so that the caller can easily check whether a unique character was found.\n\n```cpp\n#include <string>\n#include <unordered_map>\n#include <optional>\n#include <algorithm>\n\n/// @brief Returns the first non\u2011repeated character in @p s.\n/// @param s Input string.\n/// @return  std::optional containing the character as a string if it exists,\n///           otherwise std::nullopt.\nstd::optional<std::string> first_non_repeating_character(const std::string& s)\n{\n    // Count occurrences of each character\n    std::unordered_map<char, std::size_t> freq;\n    for (char c : s)\n    {\n        ++freq[c];\n    }\n\n    // Scan the string a second time to find the first unique character\n    auto it = std::find_if(s.begin(), s.end(),\n                           [&freq](char c) { return freq[c] == 1; });\n\n    if (it != s.end())\n        return std::string(1, *it);          // convert char \u2192 string\n\n    return std::nullopt;                     // no non\u2011repeating character\n}\n```\n\n### Quick usage example\n\n```cpp\n#include <iostream>\n\nint main()\n{\n    std::string str = \"swiss\";\n\n    auto res = first_non_repeating_character(str);\n\n    if (res) {\n        std::cout << \"First non\u2011repeating character: \" << *res << '\\n';\n    } else {\n        std::cout << \"No non\u2011repeating character found.\\n\";\n    }\n}\n```\n\n#### Output\n```\nFirst non-repeating character: w\n```\n\n### Why this works\n1. **Frequency map** \u2013 We first count how many times each character appears.\n2. **Second pass** \u2013 We scan the original string again; the first character whose frequency is `1` is the answer.\n3. **`std::optional`** \u2013 Allows the caller to handle the case where every character repeats (e.g., `\"aabb\"` returns `std::nullopt`).", "```cpp\n#include <string>\n#include <unordered_map>\n#include <optional>\n\n/*\n * Return the first character that appears only once in the string.\n * If every character is repeated, return std::nullopt.\n */\nstd::optional<std::string> first_non_repeating_character(const std::string& str)\n{\n    // Count occurrences of each character\n    std::unordered_map<char, size_t> freq;\n    for (const char &c : str) {\n        ++freq[c];\n    }\n\n    // Find the first character with frequency 1\n    for (const char &c : str) {\n        if (freq[c] == 1) {\n            return std::string(1, c);   // convert char \u2192 string\n        }\n    }\n\n    return std::nullopt;                 // no non\u2011repeating character\n}\n```\n\n**How it works**\n\n1. **Counting** \u2013 We traverse the string once and store the occurrence count of each character in an `unordered_map`.  \n2. **Finding** \u2013 We traverse the string a second time, keeping the original order. The first character whose count is\u202f1 is the answer.  \n3. **Return type** \u2013 We use `std::optional<std::string>`; if no unique character exists we return `std::nullopt` (empty optional).\n\n**Example usage**\n\n```cpp\n#include <iostream>\n\nint main()\n{\n    std::string s = \"swiss\";\n    auto result = first_non_repeating_character(s);\n\n    if (result) {\n        std::cout << \"First non\u2011repeating character: \" << *result << '\\n';\n    } else {\n        std::cout << \"No non\u2011repeating character found.\\n\";\n    }\n}\n```\n\nThis program will output: `First non\u2011repeating character: w`.", "Here is a **complete, self\u2011contained C++ implementation** that follows your specification:\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n\n/*\n *  Find the first non\u2011repeating character in a string.\n *  \n *  The function returns the character wrapped in std::optional<char>.\n *  If every character is repeated, std::optional has no value.\n */\nstd::optional<char> first_non_repeating_character(const std::string& s)\n{\n    // Count frequency of every character\n    unordered_map<char, int> freq;\n    for (char c : s)\n        ++freq[c];\n\n    // Find the first character with frequency 1\n    for (char c : s)\n    {\n        if (freq[c] == 1)\n            return c;          // found the first non\u2011repeating character\n    }\n\n    // If we get here, all characters repeat\n    return std::nullopt;\n}\n\n/* Use the function \u2013 optional test harness */\n#ifdef RUN_TESTS\nint main()\n{\n    vector<string> tests = {\n        \"geeksforgeeks\",   // 'f' is first non\u2011repeating\n        \"hello\",           // 'h' is first\n        \"aabb\",            // no non\u2011repeating\n        \"zxxzy\",           // 'x' is first (the two y\u2019s are repeated)\n        \"\",                // Empty string\n    };\n\n    for (auto const& t : tests)\n    {\n        auto res = first_non_repeating_character(t);\n        if (res)\n            cout << \"String: \\\"\" << t << \"\\\" -> first non\u2011repeating: '\"\n                 << *res << \"'\\n\";\n        else\n            cout << \"String: \\\"\" << t << \"\\\" -> no non\u2011repeating character\\n\";\n    }\n    return 0;\n}\n#endif\n```\n\n### Explanation\n\n1. **Frequency counting**  \n   An `unordered_map<char, int>` records how many times each character appears.\n\n2. **First scan**  \n   We iterate through the original string again.  \n   The first character whose frequency is `1` is the first non\u2011repeated one, so we return it.\n\n3. **Return type**  \n   `std::optional<char>` is used to signal \u201cno such character\u201d (`std::nullopt`) without resorting to sentinel values like `'\\0'`.\n\n4. **Test harness**  \n   The `#ifdef RUN_TESTS` block can be compiled by defining `RUN_TESTS` in the compiler flags (`-DRUN_TESTS`). It demonstrates how to use the function and prints the results.\n\nFeel free to integrate the `first_non_repeating_character` function into your project. If you need versions that return a `std::string` instead of a `char`, simply change the return type to `std::optional<std::string>` and return `std::string(1, c)` instead of `c`."]}