{"name": "mbpp_628_replace_spaces", "language": "cpp", "prompt": "#include<assert.h>\n#include<bits/stdc++.h>\n// Write a function to replace all spaces in the given string with '%20'.\nstd::string replace_spaces(std::string string) {\n", "doctests": "transform", "original": "/Users/arjun/repos/nuprl/MultiPL-E/datasets/../datasets/mbpp-typed/mbpp_628_replace_spaces.py", "prompt_terminology": "reworded", "tests": "}\nint main() {\n    auto candidate = replace_spaces;\n    assert(candidate((\"My Name is Dawood\")) == (\"My%20Name%20is%20Dawood\"));\n    assert(candidate((\"I am a Programmer\")) == (\"I%20am%20a%20Programmer\"));\n    assert(candidate((\"I love Coding\")) == (\"I%20love%20Coding\"));\n}\n", "stop_tokens": ["\n}"], "completions": ["Here\u2019s a complete, self\u2011contained implementation that replaces every ordinary space (`' '`) in a `std::string` with the three\u2011character sequence `\"%20\"`.  \nThe function works in linear time and does not use extra buffers \u2013 it appends to the resulting string in place.\n\n```cpp\n#include <string>\n#include <iostream>\n#include <cassert>\n\n/*  Replace every space in the input string with \"%20\".\n *\n *  @param s  The original string.\n *  @return   A new string with all spaces replaced.\n *\n *  Complexity: O(n) time, O(n) auxiliary space (for the result).\n */\nstd::string replace_spaces(const std::string& s)\n{\n    std::string result;\n    result.reserve(s.size() * 3);          // worst\u2011case every char is a space\n    for (char c : s) {\n        if (c == ' ') {\n            result += \"%20\";\n        } else {\n            result += c;\n        }\n    }\n    return result;\n}\n\n/* ------------  Optional test harness  -------------- */\nint main()\n{\n    std::string tests[] = {\n        \"Hello World\",\n        \"  Leading and trailing  \",\n        \"NoSpacesHere\",\n        \"\",\n        \"Space at the end \",\n    };\n\n    for (auto& txt : tests) {\n        std::cout << \"\\\"\" << txt << \"\\\" -> \\\"\"\n                  << replace_spaces(txt) << \"\\\"\\n\";\n    }\n\n    // Basic assertions\n    assert(replace_spaces(\"Hello World\") == \"Hello%20World\");\n    assert(replace_spaces(\"NoSpacesHere\") == \"NoSpacesHere\");\n    assert(replace_spaces(\"\") == \"\");\n    assert(replace_spaces(\" \") == \"%20\");\n    assert(replace_spaces(\" Space\") == \"%20Space\");\n\n    std::cout << \"All tests passed.\\n\";\n    return 0;\n}\n```\n\n### How it works\n1. **Reserve space** \u2013 The maximum size occurs when every character is a space; hence we reserve `s.size() * 3` characters to avoid reallocations.\n2. **Iterate & build** \u2013 For each character:\n   - If it is a space, we append the three characters `\"%20\"`.\n   - Otherwise, we simply copy the original character.\n3. **Return** \u2013 After the loop, `result` contains the transformed string.\n\nFeel free to drop the `main()` function into your project or keep just the `replace_spaces` helper if you only need the utility.", "Below is a straightforward, but efficient, implementation of `replace_spaces`.  \nIt walks through the original string once, builds a new string and inserts `\"%20\"` whenever a space is encountered.  \nThe function is `O(n)` in time and `O(n)` in additional space (the output string).\n\n```cpp\n#include <string>\n\n// Replace all space characters in a string by the three\u2011character sequence \"%20\"\nstd::string replace_spaces(const std::string& src)\n{\n    // Quick return \u2013 no spaces, no change.\n    if (src.find(' ') == std::string::npos)   // O(n) but only once\n        return src;\n\n    std::string result;\n    // Reserve space: worst case every char is a space, so 3x size.\n    result.reserve(src.size() * 3);\n\n    for (char c : src) {\n        if (c == ' ')\n            result += \"%20\";\n        else\n            result += c;\n    }\n    return result;\n}\n```\n\n### Why this approach?\n\n| Step | Reason |\n|------|--------|\n| Single pass over input | Linear time, `O(n)` |\n| Append directly to `result` | Avoids expensive intermediate copies |\n| `reserve` size | Preallocate to avoid reallocation overhead |\n| Early exit if no spaces | Handles most trivial cases instantly |\n\n---\n\n### Usage Example\n\n```cpp\n#include <iostream>\n\nint main() {\n    std::string s = \"Mr John Smith\";\n    std::cout << replace_spaces(s) << '\\n';   // -> \"Mr%20John%20Smith\"\n}\n```\n\n### Edge Cases Covered\n\n- Empty string \u2013 returns empty.\n- String containing no spaces \u2013 returns original string unchanged.\n- String full of spaces \u2013 each space is converted to `%20`.\n- Mix of characters: letters, digits, punctuation \u2013 only spaces are altered.\n\nFeel free to tweak the function to suit your needs, e.g. change the function signature to accept a reference to modify the original string in\u2011place or to work with `std::string_view` for read\u2011only input.", "Below is a self\u2011contained, clean C++ solution that demonstrates how to replace all spaces in a given string with \u201c%20\u201d.  \nThe code uses only the C++ Standard Library, keeps the logic simple and follows good style practices.\n\n```cpp\n#include <string>\n#include <cassert>\n\n/**\n * Replace every space in the input string with the sequence \"%20\".\n *\n * @param s  the input string to be processed\n * @return   a new string where each space is replaced by \"%20\"\n */\nstd::string replace_spaces(const std::string& s) {\n    std::string result;\n    result.reserve(s.size() * 3);            // reserve enough space (worst case)\n    for (char c : s) {\n        if (c == ' ') {\n            result.append(\"%20\");\n        } else {\n            result.push_back(c);\n        }\n    }\n    return result;\n}\n\n/* ------------------------------------------------------------------ */\n/*                       (Optional) Test Routines                      */\n/* ------------------------------------------------------------------ */\n\n#include <iostream>\nint main() {\n    // Basic checks\n    assert(replace_spaces(\"Mr John Smith\")     == \"Mr%20John%20Smith\");\n    assert(replace_spaces(\"   \")              == \"%20%20%20\");\n    assert(replace_spaces(\"NoSpaces\")         == \"NoSpaces\");\n    assert(replace_spaces(\"\")                == \"\");\n\n    // Show a sample\n    std::string input = \"Hello World From C++\";\n    std::cout << \"Original: \" << input << '\\n';\n    std::cout << \"Encoded : \" << replace_spaces(input) << '\\n';\n    return 0;\n}\n```\n\n### How It Works\n1. **Iteration** \u2013 We traverse each character of the input string.\n2. **Conditional Append** \u2013 When the character is a space, we append the literal three\u2011character string `\"%20\"`; otherwise we keep the character unchanged.\n3. **Performance** \u2013 Reserving `s.size() * 3` pre\u2011allocates a buffer large enough for the worst case (every character is a space), which avoids repeated reallocations.\n4. **Return Value** \u2013 A new string is returned; the original string remains unmodified.\n\nThis solution runs in **O(n)** time with **O(n)** additional space, where *n* is the length of the input string."]}