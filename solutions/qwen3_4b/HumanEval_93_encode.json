{"name": "HumanEval_93_encode", "language": "rs", "prompt": "/// Write a function that takes a message, and encodes in such a \n/// way that it swaps case of all letters, replaces all vowels in \n/// the message with the letter that appears 2 places ahead of that \n/// vowel in the english alphabet. \n/// Assume only letters. \n/// Examples:\n/// >>> encode(String::from(\"test\"))\n/// String::from(\"TGST\")\n/// >>> encode(String::from(\"This is a message\"))\n/// String::from(\"tHKS KS C MGSSCGG\")\nfn encode(message: String) -> String {\n", "doctests": "transform", "original": "/work/arjunguha-research-group/arjun/repos/nuprl/MultiPL-E/datasets/../datasets/originals-with-cleaned-doctests/HumanEval_93_encode.py", "prompt_terminology": "reworded", "tests": "}\n\nfn main() {\n    let candidate = encode;\n    assert_eq!(candidate(String::from(\"TEST\")), String::from(\"tgst\"));\n    assert_eq!(candidate(String::from(\"Mudasir\")), String::from(\"mWDCSKR\"));\n    assert_eq!(candidate(String::from(\"YES\")), String::from(\"ygs\"));\n    assert_eq!(candidate(String::from(\"This is a message\")), String::from(\"tHKS KS C MGSSCGG\"));\n    assert_eq!(candidate(String::from(\"I DoNt KnOw WhAt tO WrItE\")), String::from(\"k dQnT kNqW wHcT Tq wRkTg\"));\n}\n", "stop_tokens": ["\n}"], "completions": ["\n\nTo solve this problem, we need to encode a message by performing two operations on each character: swapping its case and replacing vowels with the letter that appears two places ahead in the English alphabet. The solution involves processing each character in the input string step by step.\n\n### Approach\n1. **Swap Case**: For each character in the input string, swap its case (uppercase to lowercase and vice versa).\n2. **Check for Vowels**: After swapping the case, check if the character is a vowel (a, e, i, o, u, case-insensitive).\n3. **Replace Vowels**: If the character is a vowel, replace it with the letter that appears two places ahead in the alphabet. The replacement letter maintains the same case as the original swapped character.\n4. **Construct Result**: Build the result string by appending each processed character.\n\nThe key steps involve:\n- Using ASCII methods to handle case conversion.\n- Checking for vowels by converting the swapped character to lowercase and comparing it with the vowels 'a', 'e', 'i', 'o', 'u'.\n- Calculating the new character by shifting the vowel's position in the alphabet by two positions (mod 26 to handle wrap-around, though the problem assumes no wrap-around is needed).\n\n### Solution Code\n```rust\nfn encode(message: String) -> String {\n    let mut result = String::new();\n    for c in message.chars() {\n        let swapped = if c.is_ascii_uppercase() {\n            c.to_ascii_lowercase()\n        } else {\n            c.to_ascii_uppercase()\n        };\n\n        let lower_swapped = swapped.to_ascii_lowercase();\n        if lower_swapped == 'a' || lower_swapped == 'e' || lower_swapped == 'i' || lower_swapped == 'o' || lower_swapped == 'u' {\n            let idx = lower_swapped as u8 - 'a' as u8;\n            let new_idx = (idx + 2) % 26;\n            let new_char = (new_idx + 'a' as u8) as char;\n            let result_char = if swapped.is_ascii_uppercase() {\n                new_char.to_ascii_uppercase()\n            } else {\n                new_char\n            };\n            result.push(result_char);\n        } else {\n            result.push(swapped);\n        }\n    }\n    result\n}\n```\n\n### Explanation\n1. **Case Swapping**: Each character is converted to the opposite case (e.g., 'a' becomes 'A' and vice versa).\n2. **Vowel Check**: The swapped character is converted to lowercase to check if it is one of the vowels ('a', 'e', 'i', 'o', 'u').\n3. **Vowel Replacement**: For each vowel, the code calculates the new character by shifting its position in the alphabet by two positions. For example, 'a' becomes 'c', 'e' becomes 'g', etc.\n4. **Case Preservation**: The new character is converted back to the same case as the original swapped character (e.g., if the original was uppercase, the replacement is uppercase).\n5. **Result Construction**: The processed characters are appended to the result string in order, preserving spaces and non-letter characters as they are (though the problem states the input consists only of letters).\n\nThis approach efficiently processes each character in linear time, making it optimal for the given problem constraints. The solution handles all edge cases, including the correct case preservation and vowel replacement as specified.", "\n\nTo solve this problem, we need to encode a given message by performing two operations on each character in the message:\n1. **Swap the case** of each letter (uppercase to lowercase and vice versa).\n2. **Replace all vowels** (case-insensitive) with the letter that appears **two places ahead** in the English alphabet, maintaining the same case as the original swapped character.\n\n### Approach\n1. **Swap Case**: For each character in the input string, swap its case. This means converting uppercase letters to lowercase and lowercase letters to uppercase.\n2. **Check for Vowels**: After swapping the case, check if the character is a vowel (a, e, i, o, u in any case).\n3. **Replace Vowels**: If the character is a vowel, compute the next letter two positions ahead in the alphabet (e.g., 'a' becomes 'c', 'e' becomes 'g', etc.). The resulting letter should maintain the same case as the original swapped character.\n4. **Construct Result**: Build the result string by processing each character according to the above steps.\n\n### Solution Code\n```rust\nfn encode(message: String) -> String {\n    let is_vowel = |c: char| {\n        let lower = c.to_lowercase().next().unwrap();\n        lower == 'a' || lower == 'e' || lower == 'i' || lower == 'o' || lower == 'u'\n    };\n\n    message.chars().map(|c| {\n        let c_swapped = if c.is_uppercase() {\n            c.to_lowercase().next().unwrap()\n        } else {\n            c.to_uppercase().next().unwrap()\n        };\n\n        if is_vowel(c_swapped) {\n            let lower_vowel = c_swapped.to_lowercase().next().unwrap();\n            let next_char = (lower_vowel as u8 + 2) as char;\n            let result_char = if c_swapped.is_uppercase() {\n                next_char.to_uppercase().next().unwrap()\n            } else {\n                next_char\n            };\n            result_char\n        } else {\n            c_swapped\n        }\n    }).collect()\n}\n```\n\n### Explanation\n1. **Vowel Check**: The closure `is_vowel` checks if a character is a vowel (a, e, i, o, u) in a case-insensitive manner.\n2. **Case Swap**: For each character `c` in the input string:\n   - If `c` is uppercase, it is converted to lowercase.\n   - If `c` is lowercase, it is converted to uppercase.\n3. **Vowel Replacement**: If the swapped character is a vowel:\n   - Convert it to lowercase to determine its position in the alphabet.\n   - Compute the next character by adding 2 to its ASCII value (e.g., 'a' \u2192 'c').\n   - Convert the result back to the original case (uppercase or lowercase) of the swapped character.\n4. **Result Construction**: The processed characters are collected into a new string, which is returned as the encoded message.\n\nThis approach efficiently handles the case swapping and vowel replacement in a single pass through the input string, ensuring optimal performance and correctness for the given problem constraints.", "\n\nTo solve this problem, we need to encode a given message by performing two operations on each character: swapping its case and then replacing vowels with the letter that appears two places ahead in the English alphabet. The solution involves iterating through each character of the input string, applying these transformations in sequence.\n\n### Approach\n1. **Swap Case**: For each character in the input string, swap its case (uppercase to lowercase and vice versa).\n2. **Check for Vowels**: After swapping the case, check if the character is a vowel (a, e, i, o, u, case-insensitive).\n3. **Shift Vowels**: If the character is a vowel, shift it two positions ahead in the alphabet (e.g., 'a' becomes 'c', 'e' becomes 'g').\n4. **Maintain Case**: Ensure the shifted vowel maintains the same case as the original swapped character.\n\n### Solution Code\n```rust\nfn encode(message: String) -> String {\n    let vowels = ['a', 'e', 'i', 'o', 'u'];\n    let mut result = String::new();\n    for c in message.chars() {\n        let swapped = if c.is_uppercase() {\n            c.to_lowercase().next().unwrap()\n        } else {\n            c.to_uppercase().next().unwrap()\n        };\n\n        let lower_swapped = swapped.to_lowercase().next().unwrap();\n        let is_vowel = vowels.contains(&lower_swapped);\n\n        if is_vowel {\n            let base = lower_swapped as u8 - b'a';\n            let shifted_char = (base + 2) % 26 + b'a';\n            let shifted = shifted_char as char;\n\n            let final_char = if swapped.is_uppercase() {\n                shifted.to_uppercase().next().unwrap()\n            } else {\n                shifted\n            };\n            result.push(final_char);\n        } else {\n            result.push(swapped);\n        }\n    }\n    result\n}\n```\n\n### Explanation\n1. **Swapping Case**: For each character `c` in the input string, we check if it is uppercase. If so, we convert it to lowercase; otherwise, we convert it to uppercase.\n2. **Vowel Check**: After swapping the case, we convert the character to lowercase and check if it is one of the vowels ('a', 'e', 'i', 'o', 'u').\n3. **Shifting Vowels**: If the character is a vowel, we calculate its position in the alphabet (0 for 'a', 1 for 'b', etc.), add 2, take modulo 26 to handle wrap-around (though the problem constraints ensure no wrap-around for vowels), and convert back to the corresponding character.\n4. **Case Maintenance**: The shifted character is converted back to the same case as the original swapped character (uppercase or lowercase) to maintain the case transformation.\n5. **Result Construction**: The transformed characters are collected into a new string, which is returned as the encoded message.\n\nThis approach efficiently processes each character in the input string, ensuring the required transformations are applied in the correct order while maintaining the case and vowel shift rules specified. The solution handles all edge cases within the problem constraints and produces the expected output as demonstrated in the examples."]}