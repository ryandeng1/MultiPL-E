{"completions": ["```cpp\n// ---------------  prime_length.cpp  ----------------\n// This file contains a helper that checks whether\n// the length (number of characters) of a given string\n// is a prime number.\n//\n// Example usage:\n//\n//   #include \"prime_length.cpp\"  // or compile this file into a library\n//   ...\n//   if (prime_length(\"Hello\")) { \u2026 }\n// ---------------------------------------------------\n\n#include <string>\n#include <cstddef>   // for std::size_t\n#include <cmath>     // for std::sqrt\n\n// -----------------------------------------------------------------------------\n// Helper: is_prime\n//   Returns true iff n is a prime number.\n//   Handles 0 and 1 (not prime), and even numbers > 2.\n//   Uses trial division up to sqrt(n).\n// -----------------------------------------------------------------------------\nstatic bool is_prime(std::size_t n) {\n    if (n < 2) return false;\n    if (n == 2) return true;\n    if ((n & 1) == 0) return false;            // even numbers > 2 are composite\n    const std::size_t limit = static_cast<std::size_t>(std::sqrt(static_cast<double>(n)));\n    for (std::size_t i = 3; i <= limit; i += 2) {\n        if (n % i == 0) return false;\n    }\n    return true;\n}\n\n// -----------------------------------------------------------------------------\n// prime_length \u2013 public API\n//   Determines whether the length of the input string is a prime number.\n// -----------------------------------------------------------------------------\nbool prime_length(const std::string& str) {\n    return is_prime(str.size());\n}\n\n// -----------------------------------------------------------------------------\n// Simple test harness (optional)\n// -----------------------------------------------------------------------------\n#ifdef PRIME_LENGTH_TEST\n#include <iostream>\nint main() {\n    struct { const char* s; bool expected; } tests[] = {\n        {\"Hello\", true},\n        {\"abcdcba\", true},\n        {\"kittens\", true},\n        {\"orange\", false},\n        {\"\", false},\n        {\"ab\", false},\n        {\"abc\", true},\n        {\"abcd\", false}\n    };\n\n    for (auto& t : tests) {\n        bool result = prime_length(t.s);\n        std::cout << t.s << \" -> \" << std::boolalpha << result\n                  << \" (expected \" << t.expected << \")\"\n                  << (result == t.expected ? \" OK\" : \" FAIL\") << '\\n';\n    }\n}\n#endif\n```\n\n**Explanation**\n\n* `is_prime` is a small, self\u2011contained routine that checks primality by trying divisions only up to the square root of `n`.  \n* `prime_length` simply calls `is_prime` with `str.size()`, which is the string length.  \n* The `#ifdef PRIME_LENGTH_TEST` block can be compiled in to run a quick sanity\u2011check of the function (you'd compile with `-DPRIME_LENGTH_TEST`).  \n* The implementation is O(\u221an) where `n` is the string length and works for any reasonable string size.", "Below is a minimal, self\u2011contained implementation for the requested `prime_length` function.  \nIt simply checks whether the length of the input string is a prime number.\n\n\n\n```cpp\n#include <string>\n#include <cmath>\n\n/* Helper: check if a given positive integer n is prime */\nbool isPrime(int n)\n{\n    if (n <= 1)                 return false;\n    if (n <= 3)                 return true;   // 2 and 3 are prime\n    if (n % 2 == 0 || n % 3 == 0) return false;\n\n    // Check for divisors up to sqrt(n)\n    for (int i = 5; i * i <= n; i += 6)\n        if (n % i == 0 || n % (i + 2) == 0)\n            return false;\n\n    return true;\n}\n\n/* Main function as requested */\nbool prime_length(const std::string& s)\n{\n    return isPrime(static_cast<int>(s.length()));\n}\n```\n\n**Explanation**\n\n1. `isPrime` implements a classic efficient primality test:\n   * Handles small numbers directly (`<=3`).\n   * Eliminates multiples of 2 and 3 early.\n   * Then checks only numbers of the form `6k \u00b1 1` up to `sqrt(n)`, which is optimal for integers up to the size of a 32\u2011bit type.\n\n2. `prime_length` takes the string by reference (to avoid unnecessary copying) and returns the result of `isPrime` applied to its length.\n\n**Usage Example**\n\n```cpp\n#include <iostream>\n\nint main() {\n    std::cout << std::boolalpha;\n    std::cout << prime_length(\"Hello\") << '\\n';     // true  (5)\n    std::cout << prime_length(\"abcdcba\") << '\\n';  // true  (7)\n    std::cout << prime_length(\"kittens\") << '\\n';  // false (7 is prime, so true)\n    std::cout << prime_length(\"orange\") << '\\n';  // false (6)\n}\n```\n\nThis satisfies the problem statement while keeping the code concise and portable.", "Below is a minimal, self\u2011contained C++ implementation of the requested routine.  \nIt contains\n\n* a helper to test primality (`is_prime`),\n* the requested `prime_length` function,\n* a short `main` that demonstrates the examples you listed.\n\n```cpp\n#include <iostream>\n#include <string>\n#include <cmath>\n\n// -----------------------------------------------------------------------------\n// Helper \u2013 return true iff n is a prime number\n// -----------------------------------------------------------------------------\nbool is_prime(int n)\n{\n    if (n <= 1) return false;          // 0,1 are not prime\n    if (n <= 3) return true;           // 2,3 are prime\n    if (n % 2 == 0 || n % 3 == 0) return false;\n\n    // Check divisors up to sqrt(n).  We can skip even numbers.\n    for (int i = 5; i * i <= n; i += 6)\n    {\n        if (n % i == 0 || n % (i + 2) == 0)\n            return false;\n    }\n    return true;\n}\n\n// -----------------------------------------------------------------------------\n// The function you asked for\n// -----------------------------------------------------------------------------\nbool prime_length(const std::string& s)\n{\n    return is_prime(static_cast<int>(s.size()));\n}\n\n// -----------------------------------------------------------------------------\n// Demo / tests\n// -----------------------------------------------------------------------------\nint main()\n{\n    const std::string tests[] =\n    {\n        \"Hello\",\n        \"abcdcba\",\n        \"kittens\",\n        \"orange\"\n    };\n\n    for (const auto& str : tests)\n    {\n        std::cout << \"prime_length(\\\"\" << str << \"\\\") -> \"\n                  << (prime_length(str) ? \"true\" : \"false\") << '\\n';\n    }\n\n    // Optional: assert the examples you gave\n    assert(prime_length(\"Hello\")   == true);\n    assert(prime_length(\"abcdcba\") == true);\n    assert(prime_length(\"kittens\") == true);\n    assert(prime_length(\"orange\")  == false);\n\n    std::cout << \"All asserts passed.\\n\";\n    return 0;\n}\n```\n\n### How it works\n\n1. **`is_prime`**  \n   * Handles the small cases (`\u22643`) directly.  \n   * Eliminates even numbers and multiples of 3 early.  \n   * Then checks potential divisors of the form `6k \u00b1 1` up to `\u221an`.  \n   * Works in `O(\u221an)` time, which is plenty fast for string lengths.\n\n2. **`prime_length`**  \n   * Simply forwards the string length to `is_prime`.  \n   * The length is cast to `int` because `std::string::size()` returns an unsigned type.\n\n3. **`main`**  \n   * Demonstrates the examples.  \n   * Uses `assert` to confirm that the function returns the expected results.\n\nYou can compile this file with any C++17 (or newer) compiler:\n\n```bash\ng++ -std=c++17 -O2 -Wall -Wextra your_file.cpp -o prime_length_demo\n./prime_length_demo\n```\n\nIt will print the outcomes for the four test strings and confirm that the asserts pass."]}