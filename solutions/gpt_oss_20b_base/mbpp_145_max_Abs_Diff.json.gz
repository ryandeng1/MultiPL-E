{"completions": ["Below is a completely self\u2011contained C++17 implementation that calculates the **maximum absolute difference** between any two elements of the input container.\n\n```cpp\n/*\n *  max_abs_diff.cpp\n *\n *  Purpose   : Find the maximum absolute difference between any two elements\n *              in a vector<long>.\n *  Language  : C++17\n *  Dependencies : <algorithm>, <vector>, <cassert>\n *\n *  Note     : The function is completely generic for any std::vector<long>\n *             (you can replace `long` by another integral type if you want).\n *\n *  Complexity : O(n) time, O(1) extra space\n */\n\n#include <algorithm>\n#include <cassert>\n#include <vector>\n\n/* -------------------------------------------------------------------------\n *  max_abs_diff\n *\n *  Given a vector of integers, returns the maximum absolute difference\n *  between any pair of elements.  The algorithm is as simple as:\n *      max_diff = max_element - min_element\n *  because |x - y| is maximised when one of the numbers is the maximum\n *  and the other is the minimum.\n *\n *  Parameters :\n *      arr - input vector containing the elements\n *\n *  Returns :\n *      The maximum absolute difference (long).\n *\n *  Preconditions :\n *      arr.size() >= 2  (otherwise the difference is undefined)\n * ------------------------------------------------------------------------- */\nlong max_abs_diff(const std::vector<long>& arr)\n{\n    assert(arr.size() >= 2);          // 1) sanity check\n\n    // 2) find the minimum and maximum\n    const auto [min_it, max_it] = std::minmax_element(arr.begin(), arr.end());\n\n    // 3) the largest absolute difference is simply max - min\n    return std::llabs(*max_it - *min_it);   // use llabs for long integers\n}\n\n/* -------------------------------------------------------------------------\n *  Example usage (commented out; remove the comment to test)\n *\n *  int main() {\n *      std::vector<long> v{10, 7, 16, 5, 8};\n *      std::cout << \"Max abs difference: \" << max_abs_diff(v) << '\\n';\n *      return 0;\n *  }\n * ------------------------------------------------------------------------- */\n\n```\n\n### Why this works\n\nFor any two indices `i` and `j` we have\n\n```\n|arr[i] - arr[j]| \u2264 max(arr) - min(arr)\n```\n\nbecause the difference between the largest and smallest element is the\ngreatest possible spread, and the absolute value can only reduce that\nspread if neither element is one of the extremes.  \nThus the optimal pair is simply `max` and `min`.\n\n### Complexity\n\n* **Time**: `std::minmax_element` scans the vector once \u2192 `O(n)`  \n* **Space**: No additional container \u2192 `O(1)`  \n\nFeel free to drop this into any project. If you need a version that handles\nother numeric types, just template the function.", "Here\u2019s a clean, fully\u2011self\u2011contained Python function that returns the maximum absolute difference between any two elements in a list of numbers:\n\n```python\nfrom typing import List\n\ndef max_abs_diff(arr: List[int]) -> int:\n    \"\"\"\n    Return the maximum absolute difference between any two elements in `arr`.\n\n    Args:\n        arr: A list of integers (or any type that supports comparison).\n\n    Returns:\n        The largest |a_i - a_j| over all pairs (i, j).\n\n    Raises:\n        ValueError: If `arr` is empty.\n\n    Example:\n        >>> max_abs_diff([1, 4, -2, 7, 0])\n        9     # |7 - (-2)| = 9\n\n    Complexity:\n        Time  : O(n) \u2013 one pass to find min and max.\n        Space : O(1) \u2013 constant extra space.\n    \"\"\"\n    if not arr:\n        raise ValueError(\"Input list must contain at least one element\")\n\n    current_min = current_max = arr[0]\n    for x in arr[1:]:\n        if x < current_min:\n            current_min = x\n        elif x > current_max:\n            current_max = x\n\n    return current_max - current_min\n```\n\n### Why this works\n* The maximum absolute difference in a set of numbers is always obtained by subtracting the overall minimum from the overall maximum (or vice\u2011versa).  \n* By iterating once over the list we find the two extreme values; the difference between them is the answer.  \n* The function handles all numeric types that support `<` and `>` comparisons, not just `int` or `float`.\n\nFeel free to copy\u2011paste this into your codebase, or tweak the type hints and error\u2011handling to suit your needs!", "Below is a **stand\u2011alone C++** function that calculates the maximum absolute difference between any two elements in a vector.  \nThe idea is simple: the largest possible absolute difference in a set of real numbers is obtained by taking the difference between the maximum and the minimum element.  \nTherefore the algorithm is:\n\n```cpp\nmax_abs_diff(arr) = max(arr) - min(arr)\n```\n\nThis runs in linear time \\(O(n)\\) and needs only constant extra space.\n\n```cpp\n#include <vector>\n#include <algorithm>   // for std::minmax_element\n#include <limits>      // for std::numeric_limits\n\n/**\n * @brief  Find the maximum absolute difference between any two elements of a vector.\n *\n * @param arr Vectors of integers (or any type that supports subtraction).\n * @return  The maximum absolute difference as a value of the same type as the vector elements.\n *\n * @note If the vector is empty the function returns 0.\n *       For a vector with a single element the difference is 0 as well.\n */\nlong max_Abs_Diff(const std::vector<long>& arr)\n{\n    if (arr.empty())              // nothing to compare \u2192 difference is 0\n        return 0L;\n\n    // std::minmax_element returns iterators to the min and max element.\n    auto [min_it, max_it] =\n        std::minmax_element(arr.begin(), arr.end());\n\n    return *max_it - *min_it;     // positive difference\n}\n```\n\n### How it works\n\n1. **Edge cases** \u2013  \n   * Empty vector \u2192 return 0.  \n   * One element \u2192 return 0 (no other element to form a pair).\n\n2. **`std::minmax_element`** \u2013 a single traversal that gives you both the smallest and the largest value in the vector.\n\n3. **Compute the difference** \u2013 simply subtract the minimum value from the maximum.  \n   This is the *maximum absolute difference*.\n\n4. **Return the result** \u2013 the value is returned as `long`.\n\n### Example usage\n\n```cpp\n#include <iostream>\n\nint main() {\n    std::vector<long> v{10, 3, 8, 21, 5};\n\n    std::cout << \"Maximum absolute difference: \"\n              << max_Abs_Diff(v) << '\\n';  // outputs 18 (21-3)\n    return 0;\n}\n```\n\nThe function runs in \\(O(n)\\) time and \\(O(1)\\) auxiliary space, making it optimal for this problem."]}