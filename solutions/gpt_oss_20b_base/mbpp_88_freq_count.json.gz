{"completions": ["Here\u2019s a clean, self\u2011contained implementation.  \nIt takes a vector of `long`s, builds a `std::map<long,long>` in which each unique value is a key and its count is the value, and returns that map.  \n\n```cpp\n#include <vector>\n#include <map>\n#include <cstddef>   // for std::size_t\n\n/**\n * @brief Count the frequency of each distinct element in a vector.\n *\n * @param list1   Input vector containing the elements to analyse.\n * @return std::map<long,long>  Map where the key is the element\n *         and the value is its occurrence count.\n */\nstd::map<long, long> freq_count(const std::vector<long>& list1)\n{\n    std::map<long, long> result;\n\n    // Simple linear scan \u2013 runs in O(n * log k) where\n    // n\u202f=\u202flist1.size() and k\u202f=\u202f# distinct elements.\n    for (const long& value : list1)\n    {\n        ++result[value];          // insert or increment\n    }\n\n    return result;\n}\n```\n\n### How it works\n1. **Input by reference** \u2013 The vector is taken as a `const` reference to avoid unnecessary copying.\n2. **Map insertion** \u2013 Using `operator[]` on the map automatically creates a key with a default `0` if it does not exist, and then increments it.\n3. **Return** \u2013 The map is returned by value. Since C++17, the move\u2011semantics of the return value will make this operation zero\u2011cost.\n\n### Usage example\n\n```cpp\n#include <iostream>\n\nint main()\n{\n    std::vector<long> data = {3, 5, 3, 7, 5, 3};\n\n    std::map<long, long> freq = freq_count(data);\n\n    for (const auto& [value, count] : freq) {\n        std::cout << value << \" occurs \" << count << \" times\\n\";\n    }\n    return 0;\n}\n```\n\n**Output**\n\n```\n3 occurs 3 times\n5 occurs 2 times\n7 occurs 1 times\n```\n\nFeel free to tweak the implementation\u2014for example, to use `unordered_map` for average\u2011case constant\u2011time lookups if you don't care about order\u2014or to return a `std::unordered_map` instead.", "Here is a clean, self\u2011contained implementation that:\n\n* Takes a vector of `long` values.\n* Counts the occurrences of each value.\n* Returns those counts in a `std::map<long,long>` (key\u00a0= value, value\u00a0= frequency).\n\n```cpp\n#include <vector>\n#include <map>\n#include <algorithm>   // For std::sort (optional)\n\n// You could also use <unordered_map> for average\u2011time O(1) look\u2011ups,\n// but the problem explicitly asks for `std::map`.\n\nstd::map<long, long> freq_count(const std::vector<long>& list1)\n{\n    std::map<long,long> result;\n\n    // Counting\n    for (const long& val : list1)\n        ++result[val];\n\n    return result;\n}\n```\n\n---\n\n### Quick unit\u2011test (using a simple `main`)\n\n```cpp\n#include <iostream>\n#include <cassert>\n\nint main()\n{\n    std::vector<long> v = {1, 2, 2, 3, 3, 3, 5};\n    std::map<long,long> freq = freq_count(v);\n\n    assert(freq[1] == 1);\n    assert(freq[2] == 2);\n    assert(freq[3] == 3);\n    assert(freq[5] == 1);\n    assert(freq.count(4) == 0);   // 4 is absent\n\n    // Print for visual inspection\n    for (const auto& p : freq)\n        std::cout << p.first << \" -> \" << p.second << '\\n';\n\n    return 0;\n}\n```\n\nCompile with:\n\n```\ng++ -std=c++17 -O2 -Wall -pedantic freq_count.cpp -o freq_count\n```\n\nThe program will print:\n\n```\n1 -> 1\n2 -> 2\n3 -> 3\n5 -> 1\n```\n\nand exit without any assertion failures.  \n\nFeel free to adapt the function signature (e.g., pass by reference, accept `std::unordered_map`, etc.) to fit your particular project needs.", "Below is a **complete, self\u2011contained** C++ program that implements the requested\nfunction, demonstrates its use, and compiles without any external dependencies\n(only the standard library).\n\n```cpp\n#include <iostream>\n#include <vector>\n#include <map>\n#include <cassert>\n#include <sstream>\n\n/*\n * Return a map that contains the frequency of each element\n * appearing in the input vector.\n *\n * Parameters\n * ----------\n * list1 : std::vector<long>\n *      The vector whose elements\u2019 frequencies are to be counted.\n *\n * Returns\n * -------\n * std::map<long,long>\n *      Key = element value,  Value = number of occurrences.\n *\n * Complexity\n * ----------\n *   O(n log m) where n = list1.size() and m = distinct elements count.\n *   (Insertion into a std::map is O(log m).)\n */\nstd::map<long, long> freq_count(const std::vector<long>& list1)\n{\n    std::map<long, long> freq;\n\n    for (const long& val : list1) {\n        ++freq[val];           // ++freq[val] inserts key with value 0 first time\n    }\n\n    return freq;\n}\n\n/* Helper: pretty\u2011print a frequency map */\nvoid print_freq(const std::map<long,long>& freq) {\n    std::cout << \"{\";\n    bool first = true;\n    for (const auto& p : freq) {\n        if (!first) std::cout << \", \";\n        std::cout << p.first << \": \" << p.second;\n        first = false;\n    }\n    std::cout << \"}\\n\";\n}\n\n/* Simple test harness */\nvoid run_tests() {\n    {\n        std::vector<long> v{1, 2, 3, 2, 1, 1};\n        auto f = freq_count(v);\n        assert(f[1] == 3);\n        assert(f[2] == 2);\n        assert(f[3] == 1);\n        assert(f.size() == 3);\n        std::cout << \"Test 1 passed.\\n\";\n    }\n\n    {\n        std::vector<long> v{};\n        auto f = freq_count(v);\n        assert(f.empty());\n        std::cout << \"Test 2 (empty vector) passed.\\n\";\n    }\n\n    {\n        std::vector<long> v{5, 5, 5, 5};\n        auto f = freq_count(v);\n        assert(f[5] == 4);\n        std::cout << \"Test 3 (single value) passed.\\n\";\n    }\n}\n\nint main()\n{\n    run_tests();\n\n    // Demo with user input\n    std::string line;\n    std::cout << \"\\nEnter a list of integers separated by spaces:\\n\";\n    std::getline(std::cin, line);\n    std::istringstream iss(line);\n    std::vector<long> numbers;\n    long num;\n    while (iss >> num) numbers.push_back(num);\n\n    auto freq = freq_count(numbers);\n    std::cout << \"Frequency map: \";\n    print_freq(freq);\n\n    return 0;\n}\n```\n\n### How to compile & run\n\n```bash\ng++ -std=c++17 -O2 -Wall -Wextra -pedantic -o freq freq.cpp\n./freq\n```\n\n> The program will first run the bundled unit tests,\n> then prompt you to enter a list of integers\n> and finally print the computed frequency map."]}