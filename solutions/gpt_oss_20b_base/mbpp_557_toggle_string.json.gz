{"completions": ["Below is a complete, self\u2011contained implementation of a function that toggles the case of every alphabetic character in a string.  \nIt uses only the C++ Standard Library \u2013 no platform\u2011specific calls \u2013 and is written in idiomatic modern C++ (C++11\u2013C++20).\n\n```cpp\n#include <string>\n#include <cctype>     // std::isalpha, std::isupper, std::toupper, std::tolower\n\n/// @brief  Toggle case for every alphabetic character of the input string.\n/// @param  str  The string whose characters should be toggled.\n/// @return A new string with the same length as `str`, but\n///         each alphabetic character has its case flipped.\nstd::string toggle_string(const std::string& str)\n{\n    std::string result;\n    result.reserve(str.size());          // reserve space to avoid re\u2011allocations\n\n    for (char c : str)\n    {\n        if (std::isalpha(static_cast<unsigned char>(c)))\n        {\n            // cast to unsigned char to avoid undefined behaviour on negative values\n            if (std::isupper(static_cast<unsigned char>(c)))\n                result.push_back(std::tolower(static_cast<unsigned char>(c)));\n            else\n                result.push_back(std::toupper(static_cast<unsigned char>(c)));\n        }\n        else\n        {\n            // non\u2011alphabetic characters remain unchanged\n            result.push_back(c);\n        }\n    }\n    return result;\n}\n```\n\n### How it works\n\n| Step | What happens | Why |\n|------|--------------|-----|\n| **Reserve** | `result.reserve(str.size());` | Avoids multiple dynamic reallocations while building the new string. |\n| **Loop** | `for (char c : str)` | Iterate over each character of the input. |\n| **Alpha check** | `std::isalpha` | Determines whether the character is a letter (works for all locales that the C library supports). |\n| **Case test** | `std::isupper` | Checks if the letter is uppercase. |\n| **Toggle** | `std::tolower` / `std::toupper` | Convert to the opposite case. |\n| **Non\u2011alpha** | Copy unchanged | All other characters (digits, punctuation, spaces, etc.) are left as\u2011is. |\n\n### Example usage\n\n```cpp\n#include <iostream>\n\nint main()\n{\n    std::string s = \"Hello, World! 123\";\n    std::cout << toggle_string(s) << '\\n';  // hELLO, wORLD! 123\n}\n```\n\nThe function runs in \\(O(n)\\) time, where \\(n\\) is the length of the input string, and uses \\(O(n)\\) additional memory for the result. It works with any `std::string` content and respects the standard library\u2019s character classification rules.", "Here is a clean, self\u2011contained implementation that toggles the case of every alphabetic character in a string.  \nFeel free to drop this into your project and call `toggle_string()` from your main function or wherever you need it.\n\n```cpp\n#include <string>\n#include <algorithm>\n#include <cctype>\n\n/**\n * @brief  Toggles the case of all alphabetic characters in a string.\n *\n * All lowercase letters become uppercase and vice versa.  Non\u2011alphabetic\n * characters are left unchanged.\n *\n * @param input The string to process.  It is passed by value so the function\n *              operates on a copy \u2013 the original string is left untouched.\n *\n * @return A new string with the case of each letter toggled.\n */\nstd::string toggle_string(std::string input)\n{\n    // std::transform + a lambda that switches case\n    std::transform(input.begin(), input.end(), input.begin(),\n        [](unsigned char ch) -> unsigned char\n        {\n            if (std::islower(ch)) return std::toupper(ch);\n            if (std::isupper(ch)) return std::tolower(ch);\n            return ch;                     // keep non\u2011alpha unchanged\n        });\n\n    return input;\n}\n```\n\n### Example usage\n\n```cpp\n#include <iostream>\n\nint main()\n{\n    std::string s = \"Hello, World! 123\";\n    std::cout << toggle_string(s) << std::endl;   // outputs: hELLO, wORLD! 123\n}\n```\n\n### Why this implementation is nice\n\n* **Modern C++** \u2013 uses `std::string`, `std::transform`, and C++17\u2011style lambdas.\n* **Clear separation** \u2013 the function works on a copy, so the caller\u2019s string stays unchanged.\n* **Portability** \u2013 the only headers required are the standard ones (`<string>`, `<algorithm>`, `<cctype>`).\n* **Robustness** \u2013 `unsigned char` is used so that `std::toupper`/`std::tolower` receive a value in the correct range, avoiding undefined behaviour with signed `char`.\nFeel free to adapt the function for different encodings or locales if needed.", "Here\u2019s a compact, self\u2011contained implementation that simply walks through the string and flips every alphabetic character\u2019s case:\n\n```cpp\n#include <string>\n#include <cctype>          // for std::isalpha, std::toupper, std::tolower\n\n// Toggle the case of all alphabetic characters in a string.\n// Non\u2011alphabetic characters are left unchanged.\nstd::string toggle_string(std::string s)\n{\n    for (char &ch : s)\n    {\n        if (std::isalpha(static_cast<unsigned char>(ch)))\n        {\n            ch = std::isupper(static_cast<unsigned char>(ch))\n                     ? static_cast<char>(std::tolower(ch))\n                     : static_cast<char>(std::toupper(ch));\n        }\n    }\n    return s;\n}\n```\n\n### Why this works\n\n* `std::isalpha` (with an `unsigned char` cast) safely tests whether a character is alphabetic in the current locale.\n* `std::isupper` tells us whether the character is already uppercase.\n* `std::tolower` / `std::toupper` perform the actual case conversion.\n* By iterating over a reference to each character (`for (char &ch : s)`), we modify the string in place, then return it.\n\n### Usage example\n\n```cpp\n#include <iostream>\n\nint main() {\n    std::string s = \"Hello, World! 123\";\n    std::cout << toggle_string(s) << std::endl;  // prints: hELLO, wORLD! 123\n}\n```\n\nFeel free to drop this function into whatever project you\u2019re working on!"]}