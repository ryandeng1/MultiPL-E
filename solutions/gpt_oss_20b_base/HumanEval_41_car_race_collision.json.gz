{"completions": ["**Key Insight**\n\nAll cars move at the same constant speed and the two groups are initially far apart.  \nWhen the two groups start moving toward each other, each car from the **left\u2011to\u2011right** group will eventually meet every car from the **right\u2011to\u2011left** group exactly once.  \nCollisions happen independently for every pair and there is no \u201cblocking\u201d or \u201cdeflection\u201d because cars are perfectly sturdy \u2013 they keep moving as if nothing happened.\n\nTherefore, the total number of collisions is simply the Cartesian product of the two groups:\n\n\\[\n\\text{collisions } = n_{\\text{LTR}} \\times n_{\\text{RTL}} = n \\times n = n^2\n\\]\n\n---\n\n### Implementation\n\n```cpp\nlong car_race_collision(long n) {\n    // For each of the n cars going left-to-right,\n    // every one of the n cars going right-to-left is a potential collision partner.\n    return n * n;\n}\n```\n\n* The function is O(1) time and O(1) memory.\n* It satisfies the constraint that both `n` values are the same (`n` for each direction).\n\n---\n\n### Example\n\nIf `n = 3`:\n\n```\nLTR cars:   a b c\nRTL cars:   \u03b1 \u03b2 \u03b3\n```\n\nCollisions: (a,\u03b1),(a,\u03b2),(a,\u03b3),(b,\u03b1),(b,\u03b2),(b,\u03b3),(c,\u03b1),(c,\u03b2),(c,\u03b3) \u2192 9 = 3\u00b2\n\nThat\u2019s all you need \u2014 each pair collides exactly once.", "**Solution Explanation**\n\nThe road is an infinite straight line.  \nWe have two groups of cars:\n\n* `n` cars moving from **left \u2192 right**\n* `n` cars moving from **right \u2192 left**\n\nInitially the two groups are far apart, so every car of the first group will eventually\nmeet every car of the second group (their paths cross once).  \nAll cars move with the same speed, so after a collision they keep moving \u2013 the\ncollision has no effect on future collisions.\n\nTherefore:\n\n* Every left\u2011to\u2011right car collides with every right\u2011to\u2011left car  \n  \u2192 `n \u00d7 n` collisions.\n\nThat is all that has to be computed.\n\n---\n\n### Algorithm\n```\nfunction car_race_collision(n):\n    return n * n\n```\n\n---\n\n### Correctness Proof  \n\nWe prove that `car_race_collision(n)` returns the correct number of collisions.\n\n*Lemma 1*:  \nAny left\u2011to\u2011right car collides with any right\u2011to\u2011left car exactly once.\n\n*Proof*:  \nBoth cars move on the same infinite line, initially far apart.  \nBecause the two groups are moving towards each other, their relative speed is\n`2v` and their paths are not parallel. Hence their straight\u2011line trajectories\nintersect at exactly one point. Since both cars continue moving afterwards, no\nadditional intersection between these two cars can occur. \u220e\n\n*Lemma 2*:  \nNo collisions occur between cars of the same group.\n\n*Proof*:  \nAll cars in the same group travel in the same direction with the same speed\nand start from distinct positions. Therefore they maintain their relative\npositions forever and never meet. \u220e\n\n*Theorem*:  \n`car_race_collision(n)` returns the exact number of collisions.\n\n*Proof*:  \nFrom Lemma&nbsp;1 each of the `n` left\u2011to\u2011right cars collides with each of the\n`n` right\u2011to\u2011left cars exactly once, giving `n\u00b7n` collisions.\nBy Lemma&nbsp;2 no other collisions exist.  \nThus the total number of collisions is `n\u00b7n`, which is exactly what the\nalgorithm outputs. \u220e\n\n---\n\n### Complexity Analysis\n\nThe function performs one multiplication and returns the result.\n\n*Time complexity*: `O(1)`  \n*Memory usage*:  `O(1)`\n\n---\n\n### Reference Implementation (C++)\n\n```cpp\n#include <cstdint>   // for int64_t\n\n/**\n * @brief Computes the number of collisions in the car race.\n *\n * There are n cars moving left\u2011to\u2011right and n cars moving right\u2011to\u2011left.\n * Each left\u2011to\u2011right car collides with every right\u2011to\u2011left car exactly once.\n *\n * @param n Number of cars in each direction.\n * @return Total number of collisions (n * n).\n */\nlong long car_race_collision(long long n) {\n    // Every left\u2011to\u2011right car collides with each right\u2011to\u2011left car.\n    return n * n;\n}\n\n/* ---------- Example usage ----------\n#include <iostream>\nint main() {\n    long long n = 3;\n    std::cout << car_race_collision(n) << std::endl; // outputs 9\n    return 0;\n}\n------------------------------------- */\n```\n\nThe code follows the algorithm described above and satisfies the required\ntime and memory constraints.", "The information given tells us that every left\u2011to\u2011right car will meet every right\u2011to\u2011left car exactly once.  \n* All cars travel at the same speed.  \n* The two sets start very far apart, so every LR car will eventually catch up to every RL car.  \n* Since they continue moving after \u201ccolliding\u201d, they don\u2019t block each other.  \n\nTherefore the total number of collision events is simply the cross\u2011product of the two groups:\n\n\\[\n\\text{collisions} = n \\times n = n^2\n\\]\n\nSo the function can simply return \\(n^2\\). \n\nHere's the full implementation:\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n\nlong car_race_collision(long n) {\n    // Each of the n left\u2011to\u2011right cars collides with each of the n right\u2011to\u2011left cars.\n    return n * n;\n}\n```"]}