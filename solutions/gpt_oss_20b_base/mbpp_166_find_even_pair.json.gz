{"completions": ["```cpp\n#include <vector>\n#include <cstddef>\n\n/// @brief  Count how many unordered pairs (i , j) with i < j in `A` \n///         have an XOR that is an even number.\n/// @param  A  vector of integers.\n/// @return  the number of pairs whose XOR is even.\nlong find_even_pair(const std::vector<long>& A)\n{\n    // XOR of two numbers is even if both numbers are even or both are odd.\n    // Therefore we just need to know how many evens and odds there are\n    // and add C(n_even,2) + C(n_odd,2).\n\n    std::size_t evens = 0, odds = 0;\n    for(long v : A)\n    {\n        if ( (v & 1LL) == 0 )   // even\n            ++evens;\n        else\n            ++odds;\n    }\n\n    auto comb2 = [](std::size_t x) -> long {\n        // Number of unordered pairs from x elements: x*(x-1)/2\n        return static_cast<long>(x) * static_cast<long>(x - 1) / 2;\n    };\n\n    return comb2(evens) + comb2(odds);\n}\n```\n\n**Explanation**\n\n* The XOR of two integers is even iff the two integers have the same parity  \n  (both even or both odd).  \n* Count how many elements of `A` are even (`evens`) and how many are odd (`odds`).  \n* The number of unordered pairs of two evens is `evens choose 2 = evens*(evens\u20111)/2`.  \n  The same formula applies to odds.  \n* Sum the two results to get the final answer.  \n\nThe function runs in `O(n)` time and `O(1)` extra space.", "**Answer (C++17)**\n\n```cpp\n#include <vector>\n#include <cstddef>\n\n// Count the number of unordered pairs (i < j) such that\n// A[i] ^ A[j] is even.\n// For two integers to have an _even_ XOR, they must have the same parity\n// (both even or both odd).  Therefore we only need the frequencies of\n// even/odd numbers.\nlong find_even_pair(const std::vector<long> &A) {\n    long evenCnt = 0, oddCnt = 0;\n\n    for (const auto x : A) {\n        if (x & 1LL)  // odd\n            ++oddCnt;\n        else           // even\n            ++evenCnt;\n    }\n\n    // Number of unordered pairs among even numbers:\n    // C(evenCnt, 2) = evenCnt * (evenCnt - 1) / 2\n    // Similarly for odd numbers.\n    long evenPairs = evenCnt * (evenCnt - 1) / 2;\n    long oddPairs  = oddCnt  * (oddCnt  - 1) / 2;\n\n    return evenPairs + oddPairs;\n}\n```\n\n### Explanation\n\n* **Parity rule**:  \n  An XOR of two integers is even *iff* both integers have the same parity.  \n  (`even ^ even = even`, `odd ^ odd = even`, `even ^ odd = odd`).\n\n* Count how many numbers are even (`evenCnt`) and how many are odd (`oddCnt`).\n\n* The number of unordered pairs among `k` elements is  \n  \\(\\binom{k}{2} = k*(k-1)/2\\).\n\n* Add the two binomial coefficients to get the total number of pairs with an even XOR.\n\nThe function runs in \\(O(n)\\) time and \\(O(1)\\) additional space.", "**Solution Explanation**\n\nFor two integers \\(x\\) and \\(y\\)\n\n\\[\nx \\oplus y \\text{ is even } \\iff (x \\bmod 2) = (y \\bmod 2)\n\\]\n\nbecause the least significant bit of the XOR is 0 only when the two bits are the same.  \nTherefore we only need to know how many numbers in the vector are even and how many are odd.  \n\nLet  \n\n* `e` \u2013 number of even elements  \n* `o` \u2013 number of odd elements  \n\nThe number of unordered pairs formed entirely from the evens is \\(\\binom{e}{2}=e(e-1)/2\\).  \nSimilarly for the odds we have \\(\\binom{o}{2}=o(o-1)/2\\).\n\nThe total number of pairs whose XOR is even is the sum of those two values.\n\n\n\n**Complexity**\n\nWe scan the vector once: \\(O(n)\\) time and \\(O(1)\\) additional space.\n\n**Reference Implementation (C++)**\n\n```cpp\n#include <vector>\n#include <cstddef>   // for size_t\n\n// Counts how many unordered pairs (i < j) of elements in A\n// have an XOR that is even.\nlong long find_even_pair(const std::vector<long long>& A) {\n    long long evenCnt = 0, oddCnt = 0;\n\n    for (long long x : A) {\n        if ((x & 1LL) == 0)      // even\n            ++evenCnt;\n        else                     // odd\n            ++oddCnt;\n    }\n\n    auto pairs = [](long long k) -> long long {\n        return k * (k - 1) / 2; // C(k,2)\n    };\n\n    return pairs(evenCnt) + pairs(oddCnt);\n}\n```\n\nThe function follows the reasoning above, works for any size of input vector, and returns the required count as a `long long`."]}